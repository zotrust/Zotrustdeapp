import{ah as _,ae as L,af as Mt,aT as V,aZ as xe,b4 as Gt,b5 as Yi,b6 as ve,aN as Ce,aU as se,b7 as Ki,b8 as Xi,b9 as Oe,ba as Ji,bb as Qi,bc as ea,ad as Ke,ai as at,aX as Fs,bd as It,be as An,bf as Tr,bg as Cr,bh as Rr,bi as Or,bj as Fr,bk as zr,bl as _r,bm as Lr,bn as In,bo as Ht,bp as Ur,bq as ta,br as kt,bs as Mr,bt as zs,bu as na,bv as Sn,bw as Gr,bx as _s,by as Hr,bz as ra,bA as Ls,bB as jr,bC as Us,bD as Dr,bE as sa,bF as oa,bG as qr}from"./index-DgfMQxqM.js";import{bS as Rl,bR as Ol,bT as Fl,bU as zl,bV as _l,aR as Ll,bO as Ul,bW as Ml,bX as Gl,bY as Hl,bZ as jl,b_ as Dl,b$ as ql,c0 as Vl,c1 as Zl,c2 as Wl,c3 as Yl,c4 as Kl,c5 as Xl,bN as Jl,bP as Ql,aO as e1,c6 as t1,bQ as n1,c7 as r1,c8 as s1,c9 as o1,ca as i1,cb as a1,cc as c1,cd as u1,cf as f1,ce as d1,aQ as l1,bH as b1,cg as h1,bL as p1,bI as m1,bM as y1,bK as g1,ag as w1,ch as x1,aP as v1,bJ as E1,aS as P1,ci as B1}from"./index-DgfMQxqM.js";import{b as Ne,i as Ms,c as Gs,d as Hs,g as Je,A as Vr,f as Me,t as Kn,j as bt,k as ht,l as js,m as Ds,I as ia,s as aa,n as Tt,o as Xn,p as qs,q as jt,e as ce,r as ca,u as Vs,D as Dt,v as ct,w as Ct,x as Zs,y as ua,z as Zr,B as fa,C as Wr,E as da,F as la,G as Jn,H as ba,J as $n,h as Ws,a as ha}from"./hashTypedData-D22_FuD_.js";import{L as I1,M as S1,N as $1,O as N1,P as k1,Q as T1,R as C1,S as R1,T as O1,V as F1,Y as z1,Y as _1,a0 as L1,Z as U1,_ as M1,U as G1,K as H1,W as j1,X as D1,Y as q1,X as V1,Y as Z1,$ as W1,a1 as Y1}from"./hashTypedData-D22_FuD_.js";import{k as ze,t as qt,h as Se,c as Ys,i as Rt,I as Nn,H as Ks,a as cn,b as Ot,d as Xs,e as Js,f as pa,g as Ft,j as ma,r as fe,s as it,l as Qs,m as ya,n as ga,o as wa,p as xa}from"./isAddress-CNK7e79b.js";import{q as X1,u as J1}from"./isAddress-CNK7e79b.js";import{i as pt}from"./isAddressEqual-DK5095qh.js";const va="1.1.0";let Q=class kn extends Error{constructor(t,n={}){var i;const r=n.cause instanceof kn?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof kn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${va}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};const eo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ea(e){return eo.test(e)}function Pa(e){return Ne(eo,e)}const to=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ba(e){return to.test(e)}function Aa(e){return Ne(to,e)}const no=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ia(e){return no.test(e)}function Sa(e){return Ne(no,e)}const ro=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Vt(e){return ro.test(e)}function $a(e){return Ne(ro,e)}const so=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Na(e){return so.test(e)}function ka(e){return Ne(so,e)}const oo=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ta(e){return oo.test(e)}function Ca(e){return Ne(oo,e)}const Ra=/^receive\(\) external payable$/;function Oa(e){return Ra.test(e)}const Yr=new Set(["memory","indexed","storage","calldata"]),Fa=new Set(["indexed"]),Tn=new Set(["calldata","memory","storage"]);class za extends Q{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class _a extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class La extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Ua extends Q{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Ma extends Q{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ga extends Q{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ha extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class ja extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Da extends Q{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Qe extends Q{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qa extends Q{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Va extends Q{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Za extends Q{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Wa extends Q{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ya(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const un=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Cn(e,t={}){if(Ia(e))return Ka(e,t);if(Ba(e))return Xa(e,t);if(Ea(e))return Ja(e,t);if(Na(e))return Qa(e,t);if(Ta(e))return e0(e);if(Oa(e))return{type:"receive",stateMutability:"payable"};throw new qa({signature:e})}function Ka(e,t={}){const n=Sa(e);if(!n)throw new Qe({signature:e,type:"function"});const r=ee(n.parameters),s=[],o=r.length;for(let c=0;c<o;c++)s.push(Ee(r[c],{modifiers:Tn,structs:t,type:"function"}));const i=[];if(n.returns){const c=ee(n.returns),a=c.length;for(let u=0;u<a;u++)i.push(Ee(c[u],{modifiers:Tn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Xa(e,t={}){const n=Aa(e);if(!n)throw new Qe({signature:e,type:"event"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ee(r[i],{modifiers:Fa,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Ja(e,t={}){const n=Pa(e);if(!n)throw new Qe({signature:e,type:"error"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ee(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Qa(e,t={}){const n=ka(e);if(!n)throw new Qe({signature:e,type:"constructor"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ee(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function e0(e){const t=Ca(e);if(!t)throw new Qe({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const t0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,n0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,r0=/^u?int$/;function Ee(e,t){var d,l;const n=Ya(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(un.has(n))return un.get(n);const r=Ms.test(e),s=Ne(r?n0:t0,e);if(!s)throw new Ma({param:e});if(s.name&&o0(s.name))throw new Ga({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},c=(t==null?void 0:t.structs)??{};let a,u={};if(r){a="tuple";const b=ee(s.type),p=[],h=b.length;for(let x=0;x<h;x++)p.push(Ee(b[x],{structs:c}));u={components:p}}else if(s.type in c)a="tuple",u={components:c[s.type]};else if(r0.test(s.type))a=`${s.type}256`;else if(s.type==="address payable")a="address";else if(a=s.type,(t==null?void 0:t.type)!=="struct"&&!io(a))throw new La({type:a});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new Ha({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Tn.has(s.modifier)&&!i0(a,!!s.array))throw new ja({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${a}${s.array??""}`,...o,...i,...u};return un.set(n,f),f}function ee(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],c=e.slice(o+1);switch(i){case",":return r===0?ee(c,[...t,n.trim()]):ee(c,t,`${n}${i}`,r);case"(":return ee(c,t,`${n}${i}`,r+1);case")":return ee(c,t,`${n}${i}`,r-1);default:return ee(c,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Wa({current:n,depth:r});return t.push(n.trim()),t}function io(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Gs.test(e)||Hs.test(e)}const s0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function o0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Gs.test(e)||Hs.test(e)||s0.test(e)}function i0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Qn(e){const t={},n=e.length;for(let i=0;i<n;i++){const c=e[i];if(!Vt(c))continue;const a=$a(c);if(!a)throw new Qe({signature:c,type:"struct"});const u=a.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const h=Ee(p,{type:"struct"});f.push(h)}if(!f.length)throw new Va({signature:c});t[a.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[c,a]=s[i];r[c]=ao(a,t)}return r}const a0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ao(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Ms.test(i.type))r.push(i);else{const a=Ne(a0,i.type);if(!(a!=null&&a.type))throw new Da({abiParameter:i});const{array:u,type:f}=a;if(f in t){if(n.has(f))throw new Za({type:f});r.push({...i,type:`tuple${u??""}`,components:ao(t[f]??[],t,new Set([...n,f]))})}else if(io(f))r.push(i);else throw new _a({type:f})}}return r}function co(e){const t=Qn(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Vt(o)||n.push(Cn(o,t))}return n}function Kr(e){let t;if(typeof e=="string")t=Cn(e);else{const n=Qn(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Vt(o)){t=Cn(o,n);break}}}if(!t)throw new za({signature:e});return t}function Xr(e){const t=[];if(typeof e=="string"){const n=ee(e),r=n.length;for(let s=0;s<r;s++)t.push(Ee(n[s],{modifiers:Yr}))}else{const n=Qn(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Vt(o))continue;const i=ee(o),c=i.length;for(let a=0;a<c;a++)t.push(Ee(i[a],{modifiers:Yr,structs:n}))}}if(t.length===0)throw new Ua({params:e});return t}function z(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class c0 extends _{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Jr="/docs/contract/encodeEventTopics";function mt(e){var a;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Je({abi:t,name:n});if(!u)throw new Vr(n,{docsPath:Jr});s=u}if(s.type!=="event")throw new Vr(void 0,{docsPath:Jr});const o=Me(s),i=Kn(o);let c=[];if(r&&"inputs"in s){const u=(a=s.inputs)==null?void 0:a.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(c=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((b,p)=>Qr({param:d,value:f[l][p]})):typeof f[l]<"u"&&f[l]!==null?Qr({param:d,value:f[l]}):null))??[])}return[i,...c]}function Qr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ze(qt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new c0(e.type);return bt([e],[t])}function Zt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:c,transport:a})=>{c==="success"&&t===o&&(n[i]=a.request)})),o=>n[o]||e.request}async function uo(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:c,toBlock:a}=t,u=Zt(e,{method:"eth_newFilter"}),f=o?mt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?L(i):i,toBlock:typeof a=="bigint"?L(a):a,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!c,type:"event"}}function ue(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const u0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},fo={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},f0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let es=class extends _{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},lo=class extends _{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},d0=class extends _{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const l0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new d0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new lo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new es({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new es({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function er(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(l0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function b0(e,t={}){typeof t.size<"u"&&Mt(e,{size:t.size});const n=V(e,t);return ve(n,t)}function h0(e,t={}){let n=e;if(typeof t.size<"u"&&(Mt(n,{size:t.size}),n=Gt(n)),n.length>1||n[0]>1)throw new Yi(n);return!!n[0]}function ge(e,t={}){typeof t.size<"u"&&Mt(e,{size:t.size});const n=V(e,t);return xe(n,t)}function p0(e,t={}){let n=e;return typeof t.size<"u"&&(Mt(n,{size:t.size}),n=Gt(n,{dir:"right"})),new TextDecoder().decode(n)}function yt(e,t){const n=typeof t=="string"?Se(t):t,r=er(n);if(Ce(n)===0&&e.length>0)throw new ht;if(Ce(t)&&Ce(t)<32)throw new js({data:typeof t=="string"?t:V(t),params:e,size:Ce(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const c=e[i];r.setPosition(s);const[a,u]=Ze(r,c,{staticPosition:0});s+=u,o.push(a)}return o}function Ze(e,t,{staticPosition:n}){const r=Ds(t.type);if(r){const[s,o]=r;return y0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return v0(e,t,{staticPosition:n});if(t.type==="address")return m0(e);if(t.type==="bool")return g0(e);if(t.type.startsWith("bytes"))return w0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return x0(e,t);if(t.type==="string")return E0(e,{staticPosition:n});throw new ia(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ts=32,Rn=32;function m0(e){const t=e.readBytes(32);return[Ys(V(aa(t,-20))),32]}function y0(e,t,{length:n,staticPosition:r}){if(!n){const i=ge(e.readBytes(Rn)),c=r+i,a=c+ts;e.setPosition(c);const u=ge(e.readBytes(ts)),f=ut(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(a+(f?b*32:d));const[p,h]=Ze(e,t,{staticPosition:a});d+=h,l.push(p)}return e.setPosition(r+32),[l,32]}if(ut(t)){const i=ge(e.readBytes(Rn)),c=r+i,a=[];for(let u=0;u<n;++u){e.setPosition(c+u*32);const[f]=Ze(e,t,{staticPosition:c});a.push(f)}return e.setPosition(r+32),[a,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[c,a]=Ze(e,t,{staticPosition:r+s});s+=a,o.push(c)}return[o,s]}function g0(e){return[h0(e.readBytes(32),{size:32}),32]}function w0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=ge(e.readBytes(32));e.setPosition(n+i);const c=ge(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const a=e.readBytes(c);return e.setPosition(n+32),[V(a),32]}return[V(e.readBytes(Number.parseInt(s,10),32)),32]}function x0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?b0(s,{signed:n}):ge(s,{signed:n}),32]}function v0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(ut(t)){const i=ge(e.readBytes(Rn)),c=n+i;for(let a=0;a<t.components.length;++a){const u=t.components[a];e.setPosition(c+o);const[f,d]=Ze(e,u,{staticPosition:c});o+=d,s[r?a:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const c=t.components[i],[a,u]=Ze(e,c,{staticPosition:n});s[r?i:c==null?void 0:c.name]=a,o+=u}return[s,o]}function E0(e,{staticPosition:t}){const n=ge(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ge(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=p0(Gt(o));return e.setPosition(t+32),[i,32]}function ut(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(ut);const n=Ds(e.type);return!!(n&&ut({...e,type:n[1]}))}function bo(e){const{abi:t,data:n}=e,r=Tt(n,0,4);if(r==="0x")throw new ht;const o=[...t||[],fo,f0].find(i=>i.type==="error"&&r===Xn(Me(i)));if(!o)throw new qs(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?yt(o.inputs,Tt(n,4)):void 0,errorName:o.name}}function ho({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?se(t[o]):t[o]}`).join(", ")})`}function po(e,t="wei"){return Ki(e,Xi[t])}class P0 extends _{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class B0 extends _{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ns(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function A0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ns(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ns(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Wt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class I0 extends _{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class S0 extends _{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Wt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class mo extends _{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class yo extends _{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class $0 extends _{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class go extends _{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){var x;const p=n?ue(n):void 0;let h=Wt({from:p==null?void 0:p.address,to:d,value:typeof l<"u"&&`${po(l)} ${((x=s==null?void 0:s.nativeCurrency)==null?void 0:x.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${Oe(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${Oe(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Oe(u)} gwei`,nonce:f});b&&(h+=`
${A0(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class wo extends _{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:c}){const a=Je({abi:n,args:r,name:i}),u=a?ho({abiItem:a,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=a?Me(a,{includeName:!0}):void 0,d=Wt({address:s&&Ji(s),function:f,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=c}}class On extends _{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,c,a;if(n&&n!=="0x")try{i=bo({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")a=l[0];else if(d==="Panic"){const[b]=l;a=u0[b]}else{const b=f?Me(f,{includeName:!0}):void 0,p=f&&l?ho({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;c=[b?`Error: ${b}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(a=s);let u;o instanceof qs&&(u=o.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(a&&a!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,a||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=a,this.signature=u}}class N0 extends _{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class k0 extends _{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Yt extends _{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const T0=3;function Xe(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const c=e instanceof Yt?e:e instanceof _?e.walk(p=>"data"in p)||e.walk():{},{code:a,data:u,details:f,message:d,shortMessage:l}=c,b=e instanceof ht?new N0({functionName:o}):[T0,Qi.code].includes(a)&&(u||f||d||l)?new On({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:c instanceof ea?f:l??d}):e;return new wo(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function C0(e){const t=ze(`0x${e.substring(4)}`).substring(26);return Ys(`0x${t}`)}async function R0({hash:e,signature:t}){const n=Ke(e)?e:at(e),{secp256k1:r}=await Fs(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>rl);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),p=rs(b);return new r.Signature(ve(u),ve(f)).addRecoveryBit(p)}const i=Ke(t)?t:at(t);if(Ce(i)!==65)throw new Error("invalid signature length");const c=xe(`0x${i.slice(130)}`),a=rs(c);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(a)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function rs(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function xo({hash:e,signature:t}){return C0(await R0({hash:e,signature:t}))}function O0(e,t="hex"){const n=vo(e),r=er(new Uint8Array(n.length));return n.encode(r),t==="hex"?V(r.bytes):r.bytes}function vo(e){return Array.isArray(e)?F0(e.map(t=>vo(t))):z0(e)}function F0(e){const t=e.reduce((s,o)=>s+o.length,0),n=Eo(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function z0(e){const t=typeof e=="string"?Se(e):e,n=Eo(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Eo(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new _("Length is too large.")}function _0(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=ze(jt(["0x05",O0([t?L(t):"0x",s,n?L(n):"0x"])]));return r==="bytes"?Se(o):o}async function Po(e){const{authorization:t,signature:n}=e;return xo({hash:_0(t),signature:n??t})}class L0 extends _{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var p;const b=Wt({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${po(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${Oe(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${Oe(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Oe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function tr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof _?e.walk(s=>(s==null?void 0:s.code)===It.code):e;return r instanceof _?new It({cause:e,message:r.details}):It.nodeMessage.test(n)?new It({cause:e,message:e.details}):An.nodeMessage.test(n)?new An({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Tr.nodeMessage.test(n)?new Tr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Cr.nodeMessage.test(n)?new Cr({cause:e,nonce:t==null?void 0:t.nonce}):Rr.nodeMessage.test(n)?new Rr({cause:e,nonce:t==null?void 0:t.nonce}):Or.nodeMessage.test(n)?new Or({cause:e,nonce:t==null?void 0:t.nonce}):Fr.nodeMessage.test(n)?new Fr({cause:e}):zr.nodeMessage.test(n)?new zr({cause:e,gas:t==null?void 0:t.gas}):_r.nodeMessage.test(n)?new _r({cause:e,gas:t==null?void 0:t.gas}):Lr.nodeMessage.test(n)?new Lr({cause:e}):In.nodeMessage.test(n)?new In({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Ht({cause:e})}function U0(e,{docsPath:t,...n}){const r=(()=>{const s=tr(e,n);return s instanceof Ht?e:s})();return new L0(r,{docsPath:t,...n})}function nr(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const c of i)c in e&&(n[c]=e[c]),o[c]&&typeof o[c]=="object"&&!Array.isArray(o[c])&&r(o[c])}const s=t(e||{});return r(s),n}const M0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Kt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=G0(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>V(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=L(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=L(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=L(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=L(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=L(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=L(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=M0[e.type]),typeof e.value<"u"&&(n.value=L(e.value)),n}function G0(e){return e.map(t=>({address:t.address,r:t.r?L(BigInt(t.r)):t.r,s:t.s?L(BigInt(t.s)):t.s,chainId:L(t.chainId),nonce:L(t.nonce),...typeof t.yParity<"u"?{yParity:L(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:L(t.v)}:{}}))}function ss(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ur({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ur({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function H0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=L(t)),n!==void 0&&(i.nonce=L(n)),r!==void 0&&(i.state=ss(r)),s!==void 0){if(i.state)throw new B0;i.stateDiff=ss(s)}return i}function rr(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Rt(n,{strict:!1}))throw new Nn({address:n});if(t[n])throw new P0({address:n});t[n]=H0(r)}return t}const j0=2n**256n-1n;function gt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?ue(t):void 0;if(i&&!Rt(i.address))throw new Nn({address:i.address});if(o&&!Rt(o))throw new Nn({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new I0;if(r&&r>j0)throw new An({maxFeePerGas:r});if(s&&r&&s>r)throw new In({maxFeePerGas:r,maxPriorityFeePerGas:s})}class D0 extends _{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class sr extends _{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class q0 extends _{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Oe(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Bo extends _{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Ao={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Io(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?xe(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?xe(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Ao[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=V0(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function V0(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function So(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Io(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function le(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const o=s??!1,i=n!==void 0?L(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!c)throw new Bo({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||So)(c,"getBlock")}async function or(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Z0(e,t){return $o(e,t)}async function $o(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof c=="function"){const u=n||await z(e,le,"getBlock")({}),f=await c({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof c<"u")return c;const a=await e.request({method:"eth_maxPriorityFeePerGas"});return ve(a)}catch{const[c,a]=await Promise.all([n?Promise.resolve(n):z(e,le,"getBlock")({}),z(e,or,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new sr;const u=a-c.baseFeePerGas;return u<0n?0n:u}}async function W0(e,t){return Fn(e,t)}async function Fn(e,t){var l,b;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var p,h;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(i<1)throw new D0;const a=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),u=p=>p*BigInt(Math.ceil(i*a))/BigInt(a),f=n||await z(e,le,"getBlock")({});if(typeof((b=r==null?void 0:r.fees)==null?void 0:b.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new sr;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await $o(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await z(e,or,"getGasPrice")({}))}}async function No(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?L(r):n]},{dedupe:!!r});return xe(s)}function ko(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Se(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>V(o))}function To(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Se(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Se(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const c=r[i],a=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(c,a)))}return n==="bytes"?o:o.map(i=>V(i))}function Y0(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),c=Number(n&o),a=r?4:0,u=r?0:4;e.setUint32(t+a,i,r),e.setUint32(t+u,c,r)}function K0(e,t,n){return e&t^~e&n}function X0(e,t,n){return e&t^e&n^t&n}class J0 extends Ks{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=cn(this.buffer)}update(t){Ot(this),t=Xs(t),Js(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const c=Math.min(s-this.pos,o-i);if(c===s){const a=cn(t);for(;s<=o-i;i+=s)this.process(a,i);continue}r.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ot(this),pa(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Ft(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;Y0(r,s-8,BigInt(this.length*8),o),this.process(r,0);const c=cn(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)c.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:c}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=c,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ae=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Q0=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ie=new Uint32Array(64);class ec extends J0{constructor(t=32){super(64,t,8,!1),this.A=Ae[0]|0,this.B=Ae[1]|0,this.C=Ae[2]|0,this.D=Ae[3]|0,this.E=Ae[4]|0,this.F=Ae[5]|0,this.G=Ae[6]|0,this.H=Ae[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:c,H:a}=this;return[t,n,r,s,o,i,c,a]}set(t,n,r,s,o,i,c,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=c|0,this.H=a|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ie[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Ie[d-15],b=Ie[d-2],p=fe(l,7)^fe(l,18)^l>>>3,h=fe(b,17)^fe(b,19)^b>>>10;Ie[d]=h+Ie[d-7]+p+Ie[d-16]|0}let{A:r,B:s,C:o,D:i,E:c,F:a,G:u,H:f}=this;for(let d=0;d<64;d++){const l=fe(c,6)^fe(c,11)^fe(c,25),b=f+l+K0(c,a,u)+Q0[d]+Ie[d]|0,h=(fe(r,2)^fe(r,13)^fe(r,22))+X0(r,s,o)|0;f=u,u=a,a=c,c=i+b|0,i=o,o=s,s=r,r=b+h|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,c,a,u,f)}roundClean(){Ft(Ie)}destroy(){this.set(0,0,0,0,0,0,0,0),Ft(this.buffer)}}const Co=ma(()=>new ec),tc=Co;function nc(e,t){return tc(Ke(e,{strict:!1})?qt(e):e)}function rc(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=nc(t);return s.set([n],0),r==="bytes"?s:V(s)}function sc(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(rc({commitment:o,to:r,version:n}));return s}const os=6,Ro=32,ir=4096,Oo=Ro*ir,is=Oo*os-1-1*ir*os;class oc extends _{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ic extends _{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function ac(e){const t=typeof e.data=="string"?Se(e.data):e.data,n=Ce(t);if(!n)throw new ic;if(n>is)throw new oc({maxSize:is,size:n});const r=[];let s=!0,o=0;for(;s;){const i=er(new Uint8Array(Oo));let c=0;for(;c<ir;){const a=t.slice(o,o+(Ro-1));if(i.pushByte(0),i.pushBytes(a),a.length<31){i.pushByte(128),s=!1;break}c++,o+=31}r.push(i)}return r.map(i=>V(i.bytes))}function cc(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??ac({data:t}),o=e.commitments??ko({blobs:s,kzg:n,to:r}),i=e.proofs??To({blobs:s,commitments:o,kzg:n,to:r}),c=[];for(let a=0;a<s.length;a++)c.push({blob:s[a],commitment:o[a],proof:i[a]});return c}function uc(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new S0({transaction:e})}async function Fo(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return xe(t)}const fc=["blobVersionedHashes","chainId","fees","gas","nonce","type"],as=new Map;async function zo(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:c,nonceManager:a,parameters:u=fc,type:f}=t,d=n&&ue(n),l={...t,...d?{from:d==null?void 0:d.address}:{}};let b;async function p(){return b||(b=await z(e,le,"getBlock")({blockTag:"latest"}),b)}let h;async function x(){return h||(s?s.id:typeof t.chainId<"u"?t.chainId:(h=await z(e,Fo,"getChainId")({}),h))}if(u.includes("nonce")&&typeof c>"u"&&d)if(a){const y=await x();l.nonce=await a.consume({address:d.address,chainId:y,client:e})}else l.nonce=await z(e,No,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const y=ko({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const v=sc({commitments:y,to:"hex"});l.blobVersionedHashes=v}if(u.includes("sidecars")){const v=To({blobs:r,commitments:y,kzg:i}),g=cc({blobs:r,commitments:y,proofs:v,to:"hex"});l.sidecars=g}}if(u.includes("chainId")&&(l.chainId=await x()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=uc(l)}catch{let y=as.get(e.uid);if(typeof y>"u"){const v=await p();y=typeof(v==null?void 0:v.baseFeePerGas)=="bigint",as.set(e.uid,y)}l.type=y?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const y=await p(),{maxFeePerGas:v,maxPriorityFeePerGas:g}=await Fn(e,{block:y,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<g)throw new q0({maxPriorityFeePerGas:g});l.maxPriorityFeePerGas=g,l.maxFeePerGas=v}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new sr;if(typeof t.gasPrice>"u"){const y=await p(),{gasPrice:v}=await Fn(e,{block:y,chain:s,request:l,type:"legacy"});l.gasPrice=v}}return u.includes("gas")&&typeof o>"u"&&(l.gas=await z(e,ar,"estimateGas")({...l,account:d&&{address:d.address,type:"json-rpc"}})),gt(l),delete l.parameters,l}async function ar(e,t){var s,o,i;const{account:n=e.account}=t,r=n?ue(n):void 0;try{const{accessList:c,authorizationList:a,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:b,gas:p,gasPrice:h,maxFeePerBlobGas:x,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:g,value:m,stateOverride:w,...B}=await zo(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),A=(typeof d=="bigint"?L(d):void 0)||l,N=rr(w),O=await(async()=>{if(B.to)return B.to;if(a&&a.length>0)return await Po({authorization:a[0]}).catch(()=>{throw new _("`to` is required. Could not infer from `authorizationList`")})})();gt(t);const $=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,k=($||Kt)({...nr(B,{format:$}),from:r==null?void 0:r.address,accessList:c,authorizationList:a,blobs:u,blobVersionedHashes:f,data:b,gas:p,gasPrice:h,maxFeePerBlobGas:x,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:g,to:O,value:m},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:N?[k,A??e.experimental_blockTag??"latest",N]:A?[k,A]:[k]}))}catch(c){throw U0(c,{...t,account:r,chain:e.chain})}}async function dc(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...c}=t,a=ce({abi:n,args:s,functionName:o});try{return await z(e,ar,"estimateGas")({data:`${a}${i?i.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?ue(c.account):void 0;throw Xe(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}const cs="/docs/contract/decodeEventLog";function cr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...c]=s;if(!i)throw new ca({docsPath:cs});const a=t.find(h=>h.type==="event"&&i===Kn(Me(h)));if(!(a&&"name"in a)||a.type!=="event")throw new Vs(i,{docsPath:cs});const{name:u,inputs:f}=a,d=f==null?void 0:f.some(h=>!("name"in h&&h.name)),l=d?[]:{},b=f.map((h,x)=>[h,x]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<b.length;h++){const[x,y]=b[h],v=c[h];if(!v)throw new Dt({abiItem:a,param:x});l[d?y:x.name||y]=lc({param:x,value:v})}const p=f.filter(h=>!("indexed"in h&&h.indexed));if(p.length>0){if(n&&n!=="0x")try{const h=yt(p,n);if(h)if(d)for(let x=0;x<f.length;x++)l[x]=l[x]??h.shift();else for(let x=0;x<p.length;x++)l[p[x].name]=h[x]}catch(h){if(o)throw h instanceof js||h instanceof lo?new ct({abiItem:a,data:n,params:p,size:Ce(n)}):h}else if(o)throw new ct({abiItem:a,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function lc({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(yt([e],t)||[])[0]}function ur(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var c;try{const a=t.find(f=>f.type==="event"&&i.topics[0]===Kn(f));if(!a)return null;const u=cr({...i,abi:[a],strict:s});return o&&!o.includes(u.eventName)||!bc({args:u.args,inputs:a.inputs,matchArgs:n})?null:{...u,...i}}catch(a){let u,f;if(a instanceof Vs)return null;if(a instanceof ct||a instanceof Dt){if(s)return null;u=a.abiItem.name,f=(c=a.abiItem.inputs)==null?void 0:c.some(d=>!("name"in d&&d.name))}return{...i,args:f?[]:{},eventName:u}}}).filter(Boolean)}function bc(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,c){try{return o.type==="address"?pt(i,c):o.type==="string"||o.type==="bytes"?ze(qt(i))===c:i===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const c=n[i];return c?(Array.isArray(o)?o:[o]).some(u=>s(c,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const c=n.find(u=>u.name===o);return c?(Array.isArray(i)?i:[i]).some(u=>s(c,u,t[o])):!1}):!1}function Pe(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function fr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:c,strict:a}={}){const u=a??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(h=>mt({abi:[h],eventName:h.name,args:i?void 0:c}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?L(r):r,toBlock:typeof s=="bigint"?L(s):s}]});const b=l.map(p=>Pe(p));return f?ur({abi:f,args:c,logs:b,strict:u}):b}async function _o(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:c,toBlock:a,strict:u}=t,f=i?Je({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return z(e,fr,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:c,toBlock:a,strict:u})}const fn="/docs/contract/decodeFunctionResult";function Ge(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const c=Je({abi:t,args:n,name:r});if(!c)throw new Ct(r,{docsPath:fn});o=c}if(o.type!=="function")throw new Ct(void 0,{docsPath:fn});if(!o.outputs)throw new Zs(o.name,{docsPath:fn});const i=yt(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const hc="0.1.1";function pc(){return hc}class U extends Error{constructor(t,n={}){const r=(()=>{var a;if(n.cause instanceof U){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details})(),s=n.cause instanceof U&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,c=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(a=>typeof a=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${pc()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Lo(this,t)}}function Lo(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Lo(e.cause,t):t?null:e}function wt(e,t){if(qe(e)>t)throw new Cc({givenSize:qe(e),maxSize:t})}const he={zero:48,nine:57,A:65,F:70,a:97,f:102};function us(e){if(e>=he.zero&&e<=he.nine)return e-he.zero;if(e>=he.A&&e<=he.F)return e-(he.A-10);if(e>=he.a&&e<=he.f)return e-(he.a-10)}function mc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Rc({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Uo(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Xt(e,t){if(te(e)>t)throw new Uc({givenSize:te(e),maxSize:t})}function yc(e,t){if(typeof t=="number"&&t>0&&t>te(e)-1)throw new Wo({offset:t,position:"start",size:te(e)})}function gc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&te(e)!==n-t)throw new Wo({offset:n,position:"end",size:te(e)})}function Mo(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Mc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const wc="#__bigint";function Go(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+wc:s,n)}const xc=new TextDecoder,vc=new TextEncoder;function Ec(e){return e instanceof Uint8Array?e:typeof e=="string"?Ho(e):Pc(e)}function Pc(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Ho(e,t={}){const{size:n}=t;let r=e;n&&(Xt(e,n),r=Le(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let c=0,a=0;c<o;c++){const u=us(s.charCodeAt(a++)),f=us(s.charCodeAt(a++));if(u===void 0||f===void 0)throw new U(`Invalid byte sequence ("${s[a-2]}${s[a-1]}" in "${s}").`);i[c]=u*16+f}return i}function Bc(e,t={}){const{size:n}=t,r=vc.encode(e);return typeof n=="number"?(wt(r,n),Ac(r,n)):r}function Ac(e,t){return mc(e,{dir:"right",size:t})}function qe(e){return e.length}function Ic(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Sc(e,t={}){const{size:n}=t;typeof n<"u"&&wt(e,n);const r=ie(e,t);return qo(r,t)}function $c(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(wt(r,n),r=jo(r)),r.length>1||r[0]>1)throw new Tc(r);return!!r[0]}function we(e,t={}){const{size:n}=t;typeof n<"u"&&wt(e,n);const r=ie(e,t);return Vo(r,t)}function Nc(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(wt(r,n),r=kc(r)),xc.decode(r)}function jo(e){return Uo(e,{dir:"left"})}function kc(e){return Uo(e,{dir:"right"})}class Tc extends U{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Cc=class extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Rc=class extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Oc=new TextEncoder,Fc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function zc(e,t={}){const{strict:n=!1}=t;if(!e)throw new fs(e);if(typeof e!="string")throw new fs(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ds(e);if(!e.startsWith("0x"))throw new ds(e)}function oe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function _c(e){return e instanceof Uint8Array?ie(e):Array.isArray(e)?ie(new Uint8Array(e)):e}function Do(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Xt(n,t.size),_e(n,t.size)):n}function ie(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Fc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Xt(r,t.size),Le(r,t.size)):r}function Y(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Zo({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?_e(a,r):a}function dr(e,t={}){return ie(Oc.encode(e),t)}function _e(e,t){return Mo(e,{dir:"left",size:t})}function Le(e,t){return Mo(e,{dir:"right",size:t})}function be(e,t,n,r={}){const{strict:s}=r;yc(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&gc(o,t,n),o}function te(e){return Math.ceil((e.length-2)/2)}function qo(e,t={}){const{signed:n}=t;t.size&&Xt(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Vo(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:qo(e,t))}function Lc(e,t={}){const{strict:n=!1}=t;try{return zc(e,{strict:n}),!0}catch{return!1}}class Zo extends U{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class fs extends U{constructor(t){super(`Value \`${typeof t=="object"?Go(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ds extends U{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Uc extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Wo extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Mc extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Gc(e){return{address:e.address,amount:Y(e.amount),index:Y(e.index),validatorIndex:Y(e.validatorIndex)}}function Yo(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Y(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Y(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Y(e.gasLimit)},...typeof e.number=="bigint"&&{number:Y(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Y(e.prevRandao)},...typeof e.time=="bigint"&&{time:Y(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Gc)}}}const Hc="0x82ad56cb",Ko="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",jc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Dc="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",lr="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class zn extends _{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Xo extends _{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const dn="/docs/contract/encodeDeployData";function br(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new ua({docsPath:dn});if(!("inputs"in s))throw new Zr({docsPath:dn});if(!s.inputs||s.inputs.length===0)throw new Zr({docsPath:dn});const o=bt(s.inputs,n);return jt([r,o])}function et({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new zn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new zn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Jo(e,{docsPath:t,...n}){const r=(()=>{const s=tr(e,n);return s instanceof Ht?e:s})();return new go(r,{docsPath:t,...n})}async function xt(e,t){var k,G,I,S;const{account:n=e.account,authorizationList:r,batch:s=!!((k=e.batch)!=null&&k.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:c,blobs:a,blockOverrides:u,code:f,data:d,factory:l,factoryData:b,gas:p,gasPrice:h,maxFeePerBlobGas:x,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:g,to:m,value:w,stateOverride:B,...E}=t,A=n?ue(n):void 0;if(f&&(l||b))throw new _("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&m)throw new _("Cannot provide both `code` & `to` as parameters.");const N=f&&d,O=l&&b&&m&&d,$=N||O,C=N?Qo({code:f,data:d}):O?Zc({data:d,factory:l,factoryData:b,to:m}):d;try{gt(t);const P=(typeof o=="bigint"?L(o):void 0)||i,T=u?Yo(u):void 0,F=rr(B),M=(S=(I=(G=e.chain)==null?void 0:G.formatters)==null?void 0:I.transactionRequest)==null?void 0:S.format,Z=(M||Kt)({...nr(E,{format:M}),from:A==null?void 0:A.address,accessList:c,authorizationList:r,blobs:a,data:C,gas:p,gasPrice:h,maxFeePerBlobGas:x,maxFeePerGas:y,maxPriorityFeePerGas:v,nonce:g,to:$?void 0:m,value:w},"call");if(s&&qc({request:Z})&&!F&&!T)try{return await Vc(e,{...Z,blockNumber:o,blockTag:i})}catch(W){if(!(W instanceof Xo)&&!(W instanceof zn))throw W}const q=(()=>{const W=[Z,P];return F&&T?[...W,F,T]:F?[...W,F]:T?[...W,{},T]:W})(),j=await e.request({method:"eth_call",params:q});return j==="0x"?{data:void 0}:{data:j}}catch(R){const P=Wc(R),{offchainLookup:T,offchainLookupSignature:F}=await Fs(async()=>{const{offchainLookup:M,offchainLookupSignature:H}=await Promise.resolve().then(()=>Du);return{offchainLookup:M,offchainLookupSignature:H}},void 0);if(e.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===F&&m)return{data:await T(e,{data:P,to:m})};throw $&&(P==null?void 0:P.slice(0,10))==="0x101bb98d"?new k0({factory:l}):Jo(R,{...t,account:A,chain:e.chain})}}function qc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Hc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Vc(e,t){var h;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((h=e.batch)==null?void 0:h.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:c,to:a}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return et({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Xo})(),d=(typeof o=="bigint"?L(o):void 0)||i,{schedule:l}=ta({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(x){return x.reduce((v,{data:g})=>v+(g.length-2),0)>n*2},fn:async x=>{const y=x.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),v=ce({abi:kt,args:[y],functionName:"aggregate3"}),g=await e.request({method:"eth_call",params:[{...u===null?{data:Qo({code:lr,data:v})}:{to:u,data:v}},d]});return Ge({abi:kt,args:[y],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:b,success:p}]=await l({data:c,to:a});if(!p)throw new Yt({data:b});return b==="0x"?{data:void 0}:{data:b}}function Qo(e){const{code:t,data:n}=e;return br({abi:co(["constructor(bytes, bytes)"]),bytecode:Ko,args:[t,n]})}function Zc(e){const{data:t,factory:n,factoryData:r,to:s}=e;return br({abi:co(["constructor(address, bytes, address, bytes)"]),bytecode:jc,args:[s,t,n,r]})}function Wc(e){var n;if(!(e instanceof _))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function ae(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,c=ce({abi:n,args:s,functionName:o});try{const{data:a}=await z(e,xt,"call")({...i,data:c,to:r});return Ge({abi:n,args:s,functionName:o,data:a||"0x"})}catch(a){throw Xe(a,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Yc(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...c}=t,a=c.account?ue(c.account):e.account,u=ce({abi:n,args:s,functionName:i});try{const{data:f}=await z(e,xt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...c,account:a}),d=Ge({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...c,account:a}}}catch(f){throw Xe(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:a==null?void 0:a.address})}}const ln=new Map,ls=new Map;let Kc=0;function $e(e,t,n){const r=++Kc,s=()=>ln.get(e)||[],o=()=>{const f=s();ln.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=ls.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},c=s();if(ln.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return i;const a={};for(const f in t)a[f]=(...d)=>{var b,p;const l=s();if(l.length!==0)for(const h of l)(p=(b=h.fns)[f])==null||p.call(b,...d)};const u=n(a);return typeof u=="function"&&ls.set(e,u),i}function vt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:o}));const a=await(n==null?void 0:n(c))??r;await Mr(a);const u=async()=>{s&&(await e({unpoll:o}),await Mr(r),u())};u()})(),o}const Xc=new Map,Jc=new Map;function Qc(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Xc),r=t(e,Jc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function eu(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Qc(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const tu=e=>`blockNumber.${e}`;async function Et(e,{cacheTime:t=e.cacheTime}={}){const n=await eu(()=>e.request({method:"eth_blockNumber"}),{cacheKey:tu(e.uid),cacheTime:t});return BigInt(n)}async function Jt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Pe(o));return!("abi"in t)||!t.abi?s:ur({abi:t.abi,logs:s,strict:n})}async function Qt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function nu(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:c,onError:a,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const x=l??!1,y=se(["watchContractEvent",r,s,o,e.uid,i,d,x,c]);return $e(y,{onLogs:u,onError:a},v=>{let g;c!==void 0&&(g=c-1n);let m,w=!1;const B=vt(async()=>{var E;if(!w){try{m=await z(e,uo,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:x,fromBlock:c})}catch{}w=!0;return}try{let A;if(m)A=await z(e,Jt,"getFilterChanges")({filter:m});else{const N=await z(e,Et,"getBlockNumber")({});g&&g<N?A=await z(e,_o,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:g+1n,toBlock:N,strict:x}):A=[],g=N}if(A.length===0)return;if(o)v.onLogs(A);else for(const N of A)v.onLogs([N])}catch(A){m&&A instanceof zs&&(w=!1),(E=v.onError)==null||E.call(v,A)}},{emitOnBegin:!0,interval:d});return async()=>{m&&await z(e,Qt,"uninstallFilter")({filter:m}),B()}})})():(()=>{const x=l??!1,y=se(["watchContractEvent",r,s,o,e.uid,i,d,x]);let v=!0,g=()=>v=!1;return $e(y,{onLogs:u,onError:a},m=>((async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),B=i?mt({abi:n,eventName:i,args:s}):[],{unsubscribe:E}=await w.subscribe({params:["logs",{address:r,topics:B}],onData(A){var O;if(!v)return;const N=A.result;try{const{eventName:$,args:C}=cr({abi:n,data:N.data,topics:N.topics,strict:l}),k=Pe(N,{args:C,eventName:$});m.onLogs([k])}catch($){let C,k;if($ instanceof ct||$ instanceof Dt){if(l)return;C=$.abiItem.name,k=(O=$.abiItem.inputs)==null?void 0:O.some(I=>!("name"in I&&I.name))}const G=Pe(N,{args:k?[]:{},eventName:C});m.onLogs([G])}},onError(A){var N;(N=m.onError)==null||N.call(m,A)}});g=E,v||g()}catch(w){a==null||a(w)}})(),()=>g()))})()}async function ru(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const su={"0x0":"reverted","0x1":"success"};function ou(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Pe(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?xe(e.transactionIndex):null,status:e.status?su[e.status]:null,type:e.type?Ao[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function iu(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),a=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(a/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?ue(e.account):void 0,{config:b,request:p,value:h}=e.transport({chain:n,pollingInterval:f}),x={...b,...h},y={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:p,transport:x,type:i,uid:na(),...c?{experimental_blockTag:c}:{}};function v(g){return m=>{const w=m(g);for(const E in y)delete w[E];const B={...g,...w};return Object.assign(B,{extend:v(B)})}}return Object.assign(y,{extend:v(y)})}function hr(e){var n,r,s,o,i,c;if(!(e instanceof _))return!1;const t=e.walk(a=>a instanceof On);return t instanceof On?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((c=t.data)==null?void 0:c.errorName)==="UnsupportedResolverProfile":!1}function au(e){const{abi:t,data:n}=e,r=Tt(n,0,4),s=t.find(o=>o.type==="function"&&r===Xn(Me(o)));if(!s)throw new fa(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?yt(s.inputs,Tt(n,4)):void 0}}const bn="/docs/contract/encodeErrorResult";function bs(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const a=Je({abi:t,args:r,name:n});if(!a)throw new Wr(n,{docsPath:bn});s=a}if(s.type!=="error")throw new Wr(void 0,{docsPath:bn});const o=Me(s),i=Xn(o);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new da(s.name,{docsPath:bn});c=bt(s.inputs,r)}return jt([i,c])}const hn="/docs/contract/encodeFunctionResult";function cu(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Je({abi:t,name:n});if(!i)throw new Ct(n,{docsPath:hn});s=i}if(s.type!=="function")throw new Ct(void 0,{docsPath:hn});if(!s.outputs)throw new Zs(s.name,{docsPath:hn});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new la(r)})();return bt(s.outputs,o)}const Pt="x-batch-gateway:true";async function ei(e){const{data:t,ccipRequest:n}=e,{args:[r]}=au({abi:Sn,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,c)=>{try{o[c]=i.urls.includes(Pt)?await ei({data:i.data,ccipRequest:n}):await n(i),s[c]=!1}catch(a){s[c]=!0,o[c]=uu(a)}})),cu({abi:Sn,functionName:"query",result:[s,o]})}function uu(e){return e.name==="HttpRequestError"&&e.status?bs({abi:Sn,errorName:"HttpError",args:[e.status,e.shortMessage]}):bs({abi:[fo],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function ti(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ke(t)?t:null}function _n(e){let t=new Uint8Array(32).fill(0);if(!e)return V(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=ti(n[r]),o=s?qt(s):ze(it(n[r]),"bytes");t=ze(Jn([t,o]),"bytes")}return V(t)}function fu(e){return`[${e.slice(2)}]`}function du(e){const t=new Uint8Array(32).fill(0);return e?ti(e)||ze(it(e)):V(t)}function pr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(it(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=it(s[o]);i.byteLength>255&&(i=it(fu(du(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function lu(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return et({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a==null?void 0:a.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[_n(o),BigInt(s)]:[_n(o)];try{const l=ce({abi:Gr,functionName:"addr",args:d}),b={address:u,abi:_s,functionName:"resolveWithGateways",args:[at(pr(o)),l,i??[Pt]],blockNumber:n,blockTag:r},h=await z(e,ae,"readContract")(b);if(h[0]==="0x")return null;const x=Ge({abi:Gr,args:d,functionName:"addr",data:h[0]});return x==="0x"||Gt(x)==="0x00"?null:x}catch(l){if(c)throw l;if(hr(l))return null;throw l}}class bu extends _{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class st extends _{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class mr extends _{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class hu extends _{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const pu=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,mu=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,yu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,gu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function wu(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function hs(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ni({uri:e,gatewayUrls:t}){const n=yu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=hs(t==null?void 0:t.ipfs,"https://ipfs.io"),s=hs(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(pu),{protocol:i,subpath:c,target:a,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||c==="ipns/",d=i==="ipfs:/"||c==="ipfs/"||mu.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t!=null&&t.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&a)return{uri:`${r}/${f?"ipns":"ipfs"}/${a}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&a)return{uri:`${s}/${a}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(gu,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new mr({uri:e})}function ri(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new bu({data:e});return e.image||e.image_url||e.image_data}async function xu({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await yr({gatewayUrls:e,uri:ri(n)})}catch{throw new mr({uri:t})}}async function yr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=ni({uri:t,gatewayUrls:e});if(r||await wu(n))return n;throw new mr({uri:t})}function vu(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[c,a]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new st({reason:"Only EIP-155 supported"});if(!i)throw new st({reason:"Chain ID not found"});if(!a)throw new st({reason:"Contract address not found"});if(!s)throw new st({reason:"Token ID not found"});if(!c)throw new st({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:c.toLowerCase(),contractAddress:a,tokenID:s}}async function Eu(e,{nft:t}){if(t.namespace==="erc721")return ae(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ae(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new hu({namespace:t.namespace})}async function Pu(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Bu(e,{gatewayUrls:t,record:n}):yr({uri:n,gatewayUrls:t})}async function Bu(e,{gatewayUrls:t,record:n}){const r=vu(n),s=await Eu(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:c}=ni({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=c?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return yr({uri:ri(f),gatewayUrls:t})}let a=r.tokenID;return r.namespace==="erc1155"&&(a=a.replace("0x","").padStart(64,"0")),xu({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,a)})}async function si(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return et({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a==null?void 0:a.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:_s,args:[at(pr(o)),ce({abi:Hr,functionName:"text",args:[_n(o),s]}),i??[Pt]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},b=await z(e,ae,"readContract")(d);if(b[0]==="0x")return null;const p=Ge({abi:Hr,functionName:"text",data:b[0]});return p===""?null:p}catch(d){if(c)throw d;if(hr(d))return null;throw d}}async function Au(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:c}){const a=await z(e,si,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:o,strict:i});if(!a)return null;try{return await Pu(e,{record:a,gatewayUrls:r})}catch{return null}}async function Iu(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return et({blockNumber:r,chain:a,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:ra,args:[n,o,i??[Pt]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=z(e,ae,"readContract"),[l]=await d(f);return l||null}catch(f){if(c)throw f;if(hr(f))return null;throw f}}async function Su(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return et({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),c=o==null?void 0:o.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c==null?void 0:c.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[a]=await z(e,ae,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[at(pr(s))],blockNumber:n,blockTag:r});return a}async function oi(e,t){var x,y,v;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b,...p}=t,h=n?ue(n):void 0;try{gt(t);const m=(typeof r=="bigint"?L(r):void 0)||s,w=(v=(y=(x=e.chain)==null?void 0:x.formatters)==null?void 0:y.transactionRequest)==null?void 0:v.format,E=(w||Kt)({...nr(p,{format:w}),from:h==null?void 0:h.address,blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b},"createAccessList"),A=await e.request({method:"eth_createAccessList",params:[E,m]});return{accessList:A.accessList,gasUsed:BigInt(A.gasUsed)}}catch(g){throw Jo(g,{...t,account:h,chain:e.chain})}}async function $u(e){const t=Zt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function ii(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:c}={}){const a=s??(r?[r]:void 0),u=Zt(e,{method:"eth_newFilter"});let f=[];a&&(f=[a.flatMap(b=>mt({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?L(o):o,toBlock:typeof c=="bigint"?L(c):c,...f.length?{topics:f}:{}}]});return{abi:a,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:c,type:"event"}}async function ai(e){const t=Zt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Nu(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?L(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function ku(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Tu(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?L(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),xe(o)}async function Ln(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?L(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class Cu extends _{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Ru(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,c,a,u,f,d]=await z(e,ae,"readContract")({abi:Ou,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:c,chainId:Number(a),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Cu({address:n}):i}}const Ou=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Fu(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function zu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?L(n):void 0,i=await e.request({method:"eth_feeHistory",params:[L(t),o||r,s]},{dedupe:!!o});return Fu(i)}async function _u(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Pe(o));return t.abi?ur({abi:t.abi,logs:s,strict:n}):s}async function Lu({address:e,authorization:t,signature:n}){return pt(Qs(e),await Po({authorization:t,signature:n}))}class Uu extends _{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){var c;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(c=n.metaMessages)!=null&&c.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${Ls(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Mu extends _{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Ls(n)}`,`Response: ${se(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Gu extends _{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Hu="0x556f1830",ci={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function ju(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=bo({data:r,abi:[ci]}),[i,c,a,u,f]=o,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:ui;try{if(!pt(s,i))throw new Gu({sender:i,to:s});const b=c.includes(Pt)?await ei({data:a,ccipRequest:l}):await l({data:a,sender:i,urls:c}),{data:p}=await xt(e,{blockNumber:t,blockTag:n,data:Jn([u,bt([{type:"bytes"},{type:"bytes"}],[b,f])]),to:s});return p}catch(b){throw new Uu({callbackSelector:u,cause:b,data:r,extraData:f,sender:i,urls:c})}}async function ui({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const i=n[o],c=i.includes("{data}")?"GET":"POST",a=c==="POST"?{data:e,sender:t}:void 0,u=c==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:u,method:c});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new jr({body:a,details:d!=null&&d.error?se(d.error):f.statusText,headers:f.headers,status:f.status,url:i});continue}if(!Ke(d)){r=new Mu({result:d,url:i});continue}return d}catch(f){r=new jr({body:a,details:f.message,url:i})}}throw r}const Du=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:ui,offchainLookup:ju,offchainLookupAbiItem:ci,offchainLookupSignature:Hu},Symbol.toStringTag,{value:"Module"}));class qu extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Vu={checksum:new qu(8192)},pn=Vu.checksum;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ps(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function zt(e,...t){if(!Zu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ms(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wu(e,t){zt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Yu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function fi(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Ku=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Xu(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Ju(e){for(let t=0;t<e.length;t++)e[t]=Xu(e[t]);return e}const ys=Ku?e=>e:Ju;function Qu(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function di(e){return typeof e=="string"&&(e=Qu(e)),zt(e),e}class ef{}function tf(e){const t=r=>e().update(di(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const St=BigInt(2**32-1),gs=BigInt(32);function nf(e,t=!1){return t?{h:Number(e&St),l:Number(e>>gs&St)}:{h:Number(e>>gs&St)|0,l:Number(e&St)|0}}function rf(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:c}=nf(e[o],t);[r[o],s[o]]=[i,c]}return[r,s]}const sf=(e,t,n)=>e<<n|t>>>32-n,of=(e,t,n)=>t<<n|e>>>32-n,af=(e,t,n)=>t<<n-32|e>>>64-n,cf=(e,t,n)=>e<<n-32|t>>>64-n,uf=BigInt(0),ot=BigInt(1),ff=BigInt(2),df=BigInt(7),lf=BigInt(256),bf=BigInt(113),li=[],bi=[],hi=[];for(let e=0,t=ot,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],li.push(2*(5*r+n)),bi.push((e+1)*(e+2)/2%64);let s=uf;for(let o=0;o<7;o++)t=(t<<ot^(t>>df)*bf)%lf,t&ff&&(s^=ot<<(ot<<BigInt(o))-ot);hi.push(s)}const pi=rf(hi,!0),hf=pi[0],pf=pi[1],ws=(e,t,n)=>n>32?af(e,t,n):sf(e,t,n),xs=(e,t,n)=>n>32?cf(e,t,n):of(e,t,n);function mf(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,a=(i+2)%10,u=n[a],f=n[a+1],d=ws(u,f,1)^n[c],l=xs(u,f,1)^n[c+1];for(let b=0;b<50;b+=10)e[i+b]^=d,e[i+b+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const c=bi[i],a=ws(s,o,c),u=xs(s,o,c),f=li[i];s=e[f],o=e[f+1],e[f]=a,e[f+1]=u}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=e[i+c];for(let c=0;c<10;c++)e[i+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=hf[r],e[1]^=pf[r]}fi(n)}class gr extends ef{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,ps(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Yu(this.state)}clone(){return this._cloneInto()}keccak(){ys(this.state32),mf(this.state32,this.rounds),ys(this.state32),this.posOut=0,this.pos=0}update(t){ms(this),t=di(t),zt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let c=0;c<i;c++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){ms(this,!1),zt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ps(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Wu(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,fi(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new gr(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const yf=(e,t,n)=>tf(()=>new gr(t,e,n)),gf=yf(1,136,256/8);function mi(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=gf(Ec(e));return n==="Bytes"?r:ie(r)}const wf=/^0x[a-fA-F0-9]{40}$/;function en(e,t={}){const{strict:n=!0}=t;if(!wf.test(e))throw new vs({address:e,cause:new xf});if(n){if(e.toLowerCase()===e)return;if(yi(e)!==e)throw new vs({address:e,cause:new vf})}}function yi(e){if(pn.has(e))return pn.get(e);en(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=mi(Bc(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return pn.set(e,s),s}function Un(e,t={}){const{strict:n=!0}=t??{};try{return en(e,{strict:n}),!0}catch{return!1}}class vs extends U{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class xf extends U{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class vf extends U{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Ef=/^(.*)\[([0-9]*)\]$/,Pf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,gi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Es=2n**256n-1n;function We(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=vr(t.type);if(o){const[i,c]=o;return Af(e,{...t,type:c},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Nf(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Bf(e,{checksum:r});if(t.type==="bool")return If(e);if(t.type.startsWith("bytes"))return Sf(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return $f(e,t);if(t.type==="string")return kf(e,{staticPosition:s});throw new Pr(t.type)}const Ps=32,Mn=32;function Bf(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?yi(o):o)(ie(Ic(r,-20))),32]}function Af(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const a=we(e.readBytes(Mn)),u=o+a,f=u+Ps;e.setPosition(u);const d=we(e.readBytes(Ps)),l=ft(t);let b=0;const p=[];for(let h=0;h<d;++h){e.setPosition(f+(l?h*32:b));const[x,y]=We(e,t,{checksumAddress:r,staticPosition:f});b+=y,p.push(x)}return e.setPosition(o+32),[p,32]}if(ft(t)){const a=we(e.readBytes(Mn)),u=o+a,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=We(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const c=[];for(let a=0;a<s;++a){const[u,f]=We(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,c.push(u)}return[c,i]}function If(e){return[$c(e.readBytes(32),{size:32}),32]}function Sf(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=we(e.readBytes(32));e.setPosition(n+i);const c=we(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const a=e.readBytes(c);return e.setPosition(n+32),[ie(a),32]}return[ie(e.readBytes(Number.parseInt(s,10),32)),32]}function $f(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Sc(s,{signed:n}):we(s,{signed:n}),32]}function Nf(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:a})=>!a),i=o?[]:{};let c=0;if(ft(t)){const a=we(e.readBytes(Mn)),u=s+a;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+c);const[l,b]=We(e,d,{checksumAddress:r,staticPosition:u});c+=b,i[o?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[i,32]}for(let a=0;a<t.components.length;++a){const u=t.components[a],[f,d]=We(e,u,{checksumAddress:r,staticPosition:s});i[o?a:u==null?void 0:u.name]=f,c+=d}return[i,c]}function kf(e,{staticPosition:t}){const n=we(e.readBytes(32)),r=t+n;e.setPosition(r);const s=we(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Nc(jo(o));return e.setPosition(t+32),[i,32]}function Tf({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(wr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function wr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=vr(r.type);if(s){const[o,i]=s;return Rf(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Lf(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Cf(n,{checksum:e});if(r.type==="bool")return Ff(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=gi.exec(r.type)??[];return zf(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Of(n,{type:r.type});if(r.type==="string")return _f(n);throw new Pr(r.type)}function xr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?t+=32:t+=te(c)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?(n.push(Y(t+s,{size:32})),r.push(c),s+=te(c)):n.push(c)}return oe(...n,...r)}function Cf(e,t){const{checksum:n=!1}=t;return en(e,{strict:n}),{dynamic:!1,encoded:_e(e.toLowerCase())}}function Rf(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Zf(e);if(!o&&e.length!==r)throw new Vf({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const c=[];for(let a=0;a<e.length;a++){const u=wr({checksumAddress:n,parameter:s,value:e[a]});u.dynamic&&(i=!0),c.push(u)}if(o||i){const a=xr(c);if(o){const u=Y(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?oe(u,a):u}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:oe(...c.map(({encoded:a})=>a))}}function Of(e,{type:t}){const[,n]=t.split("bytes"),r=te(e);if(!n){let s=e;return r%32!==0&&(s=Le(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:oe(_e(Y(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new xi({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Le(e)}}function Ff(e){if(typeof e!="boolean")throw new U(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:_e(Do(e))}}function zf(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Zo({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Y(e,{size:32,signed:t})}}function _f(e){const t=dr(e),n=Math.ceil(te(t)/32),r=[];for(let s=0;s<n;s++)r.push(Le(be(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:oe(Le(Y(te(t),{size:32})),...r)}}function Lf(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const c=r.components[i],a=Array.isArray(e)?i:c.name,u=wr({checksumAddress:n,parameter:c,value:e[a]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?xr(o):oe(...o.map(({encoded:i})=>i))}}function vr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ft(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(ft);const n=vr(e.type);return!!(n&&ft({...e,type:n[1]}))}const Uf={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Hf({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Gf({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Bs({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Bs({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Mf(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Uf);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Bs extends U{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Gf extends U{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Hf extends U{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function jf(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Ho(t):t,i=Mf(o);if(qe(o)===0&&e.length>0)throw new qf;if(qe(o)&&qe(o)<32)throw new Df({data:typeof t=="string"?t:ie(t),parameters:e,size:qe(o)});let c=0;const a=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(c);const[d,l]=We(i,f,{checksumAddress:s,staticPosition:0});c+=l,r==="Array"?a.push(d):a[f.name??u]=d}return a}function Er(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new vi({expectedLength:e.length,givenLength:t.length});const s=Tf({checksumAddress:r,parameters:e,values:t}),o=xr(s);return o.length===0?"0x":o}function Gn(e,t){if(e.length!==t.length)throw new vi({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Gn.encode(s,o))}return oe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const a=r;return en(a),_e(a.toLowerCase(),s?32:0)}if(n==="string")return dr(r);if(n==="bytes")return r;if(n==="bool")return _e(Do(r),s?32:1);const o=n.match(gi);if(o){const[a,u,f="256"]=o,d=Number.parseInt(f,10)/8;return Y(r,{size:s?32:d,signed:u==="int"})}const i=n.match(Pf);if(i){const[a,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new xi({expectedSize:Number.parseInt(u,10),value:r});return Le(r,s?32:0)}const c=n.match(Ef);if(c&&Array.isArray(r)){const[a,u]=c,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":oe(...f)}throw new Pr(n)}e.encode=t})(Gn||(Gn={}));function wi(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Xr(e):e}class Df extends U{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${ba(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class qf extends U{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Vf extends U{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class xi extends U{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${te(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class vi extends U{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Zf extends U{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Pr extends U{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Ei(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new mn({signature:e});if(typeof e.s>"u")throw new mn({signature:e});if(n&&typeof e.yParity>"u")throw new mn({signature:e});if(e.r<0n||e.r>Es)throw new ed({value:e.r});if(e.s<0n||e.s>Es)throw new td({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Ar({value:e.yParity})}function Wf(e){return Pi(ie(e))}function Pi(e){if(e.length!==130&&e.length!==132)throw new Qf({signature:e});const t=BigInt(be(e,0,32)),n=BigInt(be(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Br(s)}catch{throw new Ar({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Yf(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Kf(e)}function Kf(e){const t=typeof e=="string"?Pi(e):e instanceof Uint8Array?Wf(e):typeof e.r=="string"?Jf(e):e.v?Xf(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Ei(t),t}function Xf(e){return{r:e.r,s:e.s,yParity:Br(e.v)}}function Jf(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Br(n)),typeof r!="number")throw new Ar({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Br(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new nd({value:e})}class Qf extends U{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${te(_c(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class mn extends U{constructor({signature:t}){super(`Signature \`${Go(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class ed extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class td extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Ar extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class nd extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function rd(e,t={}){return typeof e.chainId=="string"?sd(e):{...e,...t.signature}}function sd(e){const{address:t,chainId:n,nonce:r}=e,s=Yf(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const od="0x8010801080108010801080108010801080108010801080108010801080108010",id=wi("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Bi(e){if(typeof e=="string"){if(be(e,-32)!==od)throw new ud(e)}else Ei(e.authorization)}function ad(e){Bi(e);const t=Vo(be(e,-64,-32)),n=be(e,-t-64,-64),r=be(e,0,-t-64),[s,o,i]=jf(id,n);return{authorization:rd({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function cd(e){try{return Bi(e),!0}catch{return!1}}let ud=class extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function fd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function dd(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?xe(e.nonce):void 0,storageProof:e.storageProof?fd(e.storageProof):void 0}}async function ld(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?L(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,i||o]});return dd(c)}async function bd(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?L(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Ir(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var f,d,l;const i=r||"latest",c=n!==void 0?L(n):void 0;let a=null;if(s?a=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?a=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,L(o)]},{dedupe:!0}):a=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||i,L(o)]},{dedupe:!!c}),!a)throw new mo({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||Io)(a,"getTransaction")}async function hd(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([z(e,Et,"getBlockNumber")({}),t?z(e,Ir,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function Nt(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new yo({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||ou)(n,"getTransactionReceipt")}async function pd(e,t){var v;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:c,stateOverride:a}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((v=e.batch)==null?void 0:v.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return et({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let p=0,h=0;for(let g=0;g<u.length;g++){const{abi:m,address:w,args:B,functionName:E}=u[g];try{const A=ce({abi:m,args:B,functionName:E});h+=(A.length-2)/2,f>0&&h>f&&b[p].length>0&&(p++,h=(A.length-2)/2,b[p]=[]),b[p]=[...b[p],{allowFailure:!0,callData:A,target:w}]}catch(A){const N=Xe(A,{abi:m,address:w,args:B,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!s)throw N;b[p]=[...b[p],{allowFailure:!0,callData:"0x",target:w}]}}const x=await Promise.allSettled(b.map(g=>z(e,ae,"readContract")({...l===null?{code:lr}:{address:l},abi:kt,account:n,args:[g],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:c,functionName:"aggregate3",stateOverride:a}))),y=[];for(let g=0;g<x.length;g++){const m=x[g];if(m.status==="rejected"){if(!s)throw m.reason;for(let B=0;B<b[g].length;B++)y.push({status:"failure",error:m.reason,result:void 0});continue}const w=m.value;for(let B=0;B<w.length;B++){const{returnData:E,success:A}=w[B],{callData:N}=b[g][B],{abi:O,address:$,functionName:C,args:k}=u[y.length];try{if(N==="0x")throw new ht;if(!A)throw new Yt({data:E});const G=Ge({abi:O,args:k,data:E,functionName:C});y.push(s?{result:G,status:"success"}:G)}catch(G){const I=Xe(G,{abi:O,address:$,args:k,docsPath:"/docs/contract/multicall",functionName:C});if(!s)throw I;y.push({error:I,result:void 0,status:"failure"})}}}if(y.length!==u.length)throw new _("multicall results mismatch");return y}async function Hn(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:c}=t;try{const a=[];for(const l of s){const b=l.blockOverrides?Yo(l.blockOverrides):void 0,p=l.calls.map(x=>{const y=x,v=y.account?ue(y.account):void 0,g=y.abi?ce(y):y.data,m={...y,data:y.dataSuffix?Jn([g||"0x",y.dataSuffix]):g,from:y.from??(v==null?void 0:v.address)};return gt(m),Kt(m)}),h=l.stateOverrides?rr(l.stateOverrides):void 0;a.push({blockOverrides:b,calls:p,stateOverrides:h})}const f=(typeof n=="bigint"?L(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:a,returnFullTransactions:o,traceTransfers:i,validation:c},f]})).map((l,b)=>({...So(l),calls:l.calls.map((p,h)=>{var O,$;const{abi:x,args:y,functionName:v,to:g}=s[b].calls[h],m=((O=p.error)==null?void 0:O.data)??p.returnData,w=BigInt(p.gasUsed),B=($=p.logs)==null?void 0:$.map(C=>Pe(C)),E=p.status==="0x1"?"success":"failure",A=x&&E==="success"&&m!=="0x"?Ge({abi:x,data:m,functionName:v}):null,N=(()=>{var k;if(E==="success")return;let C;if(((k=p.error)==null?void 0:k.data)==="0x"?C=new ht:p.error&&(C=new Yt(p.error)),!!C)return Xe(C,{abi:x??[],address:g??"0x",args:y,functionName:v??"<unknown>"})})();return{data:m,gasUsed:w,logs:B,status:E,...E==="success"?{result:A}:{error:N}}})}))}catch(a){const u=a,f=tr(u,{});throw f instanceof Ht?u:f}}function jn(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const c=e[i];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){o=!0;break}continue}if(c===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!o)throw new U("Unable to normalize signature.");return s}function Dn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Un(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Dn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Dn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ai(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ai(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Un(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Un(n[r],{strict:!1}):!1)return i}}function Ii(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Kr(e):e;return{...r,...n?{hash:Ve(r)}:{}}}function tn(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Lc(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Si(u)===be(t,0,4):u.type==="event"?Ve(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new _t({name:t});if(i.length===1)return{...i[0],...s?{hash:Ve(i[0])}:{}};let c;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Ve(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const b="inputs"in u&&u.inputs[l];return b?Dn(d,b):!1})){if(c&&"inputs"in c&&c.inputs){const d=Ai(u.inputs,c.inputs,r);if(d)throw new yd({abiItem:u,type:d[0]},{abiItem:c,type:d[1]})}c=u}}const a=(()=>{if(c)return c;const[u,...f]=i;return{...u,overloads:f}})();if(!a)throw new _t({name:t});return{...a,...s?{hash:Ve(a)}:{}}}function Si(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return tn(n,r)}return e[0]})();return be(Ve(t),0,4)}function md(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return tn(r,s)}return e[0]})(),n=typeof t=="string"?t:$n(t);return jn(n)}function Ve(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return tn(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:mi(dr(md(t)))}class yd extends U{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${jn($n(t.abiItem))}\`, and`,`\`${n.type}\` in \`${jn($n(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class _t extends U{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function gd(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,c]=e;return[xd(i),c]}return e})(),{bytecode:r,args:s}=n;return oe(r,(o=t.inputs)!=null&&o.length&&(s!=null&&s.length)?Er(t.inputs,s):"0x")}function wd(e){return Ii(e)}function xd(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new _t({name:"constructor"});return t}function vd(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[As(u,f,{args:d}),d]}const[c,a]=e;return[c,a]})(),{overloads:r}=t,s=r?As([t,...r],t.name,{args:n}):t,o=Ed(s),i=n.length>0?Er(s.inputs,n):void 0;return i?oe(o,i):o}function De(e,t={}){return Ii(e,t)}function As(e,t,n){const r=tn(e,t,n);if(r.type!=="function")throw new _t({name:t,type:"function"});return r}function Ed(e){return Si(e)}const Pd="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",de="0x0000000000000000000000000000000000000000",Bd="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Ad(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:c,validation:a}=t,u=t.account?ue(t.account):void 0;if(i&&!u)throw new _("`account` is required when `traceAssetChanges` is true");const f=u?gd(wd("constructor(bytes, bytes)"),{bytecode:Ko,args:[Bd,vd(De("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async P=>{if(!P.data&&!P.abi)return;const{accessList:T}=await oi(e,{account:u.address,...P,data:P.abi?ce(P):P.data});return T.map(({address:F,storageKeys:M})=>M.length>0?F:null)})).then(P=>P.flat().filter(Boolean)):[],l=await Hn(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((P,T)=>({abi:[De("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:P,from:de,nonce:T})),stateOverrides:[{address:de,nonce:0}]}]:[],{calls:[...s,{}].map(P=>({...P,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((P,T)=>({abi:[De("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:P,from:de,nonce:T})),stateOverrides:[{address:de,nonce:0}]},{calls:d.map((P,T)=>({to:P,abi:[De("function decimals() returns (uint256)")],functionName:"decimals",from:de,nonce:T})),stateOverrides:[{address:de,nonce:0}]},{calls:d.map((P,T)=>({to:P,abi:[De("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:de,nonce:T})),stateOverrides:[{address:de,nonce:0}]},{calls:d.map((P,T)=>({to:P,abi:[De("function symbol() returns (string)")],functionName:"symbol",from:de,nonce:T})),stateOverrides:[{address:de,nonce:0}]}]:[]],traceTransfers:c,validation:a}),b=i?l[2]:l[0],[p,h,,x,y,v,g,m]=i?l:[],{calls:w,...B}=b,E=w.slice(0,-1)??[],A=(p==null?void 0:p.calls)??[],N=(h==null?void 0:h.calls)??[],O=[...A,...N].map(P=>P.status==="success"?ve(P.data):null),$=(x==null?void 0:x.calls)??[],C=(y==null?void 0:y.calls)??[],k=[...$,...C].map(P=>P.status==="success"?ve(P.data):null),G=((v==null?void 0:v.calls)??[]).map(P=>P.status==="success"?P.result:null),I=((m==null?void 0:m.calls)??[]).map(P=>P.status==="success"?P.result:null),S=((g==null?void 0:g.calls)??[]).map(P=>P.status==="success"?P.result:null),R=[];for(const[P,T]of k.entries()){const F=O[P];if(typeof T!="bigint"||typeof F!="bigint")continue;const M=G[P-1],H=I[P-1],Z=S[P-1],q=P===0?{address:Pd,decimals:18,symbol:"ETH"}:{address:d[P-1],decimals:Z||M?Number(M??1):void 0,symbol:H??void 0};R.some(j=>j.token.address===q.address)||R.push({token:q,value:{pre:F,post:T,diff:T-F}})}return{assetChanges:R,block:B,results:E}}const $i="0x6492649264926492649264926492649264926492649264926492649264926492";function Id(e){if(be(e,-32)!==$i)throw new Nd(e)}function Sd(e){const{data:t,signature:n,to:r}=e;return oe(Er(wi("address, bytes, bytes"),[r,t,n]),$i)}function $d(e){try{return Id(e),!0}catch{return!1}}class Nd extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}class Ni extends Ks{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ya(t);const r=Xs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Ft(o)}update(t){return Ot(this),this.iHash.update(t),this}digestInto(t){Ot(this),Js(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ki=(e,t,n)=>new Ni(e,t).update(n).digest();ki.create=(e,t)=>new Ni(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sr=BigInt(0),qn=BigInt(1);function Bt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function $r(e){if(!Bt(e))throw new Error("Uint8Array expected")}function dt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function $t(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Ti(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Sr:BigInt("0x"+e)}const Ci=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",kd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function lt(e){if($r(e),Ci)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=kd[e[n]];return t}const pe={_0:48,_9:57,A:65,F:70,a:97,f:102};function Is(e){if(e>=pe._0&&e<=pe._9)return e-pe._0;if(e>=pe.A&&e<=pe.F)return e-(pe.A-10);if(e>=pe.a&&e<=pe.f)return e-(pe.a-10)}function Lt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ci)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Is(e.charCodeAt(o)),c=Is(e.charCodeAt(o+1));if(i===void 0||c===void 0){const a=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+o)}r[s]=i*16+c}return r}function Fe(e){return Ti(lt(e))}function Ri(e){return $r(e),Ti(lt(Uint8Array.from(e).reverse()))}function At(e,t){return Lt(e.toString(16).padStart(t*2,"0"))}function Oi(e,t){return At(e,t).reverse()}function re(e,t,n){let r;if(typeof t=="string")try{r=Lt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Bt(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Ut(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];$r(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const yn=e=>typeof e=="bigint"&&Sr<=e;function Nr(e,t,n){return yn(e)&&yn(t)&&yn(n)&&t<=e&&e<n}function Ye(e,t,n,r){if(!Nr(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Td(e){let t;for(t=0;e>Sr;e>>=qn,t+=1);return t}const nn=e=>(qn<<BigInt(e))-qn,gn=e=>new Uint8Array(e),Ss=e=>Uint8Array.from(e);function Cd(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=gn(e),s=gn(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},c=(...d)=>n(s,r,...d),a=(d=gn(0))=>{s=c(Ss([0]),d),r=c(),d.length!==0&&(s=c(Ss([1]),d),r=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=c();const b=r.slice();l.push(b),d+=r.length}return Ut(...l)};return(d,l)=>{i(),a(d);let b;for(;!(b=l(u()));)a();return i(),b}}const Rd={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Bt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function rn(e,t,n={}){const r=(s,o,i)=>{const c=Rd[o];if(typeof c!="function")throw new Error("invalid validator function");const a=e[s];if(!(i&&a===void 0)&&!c(a,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+a)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function $s(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J=BigInt(0),K=BigInt(1),Re=BigInt(2),Od=BigInt(3),Fi=BigInt(4),zi=BigInt(5),_i=BigInt(8);function X(e,t){const n=e%t;return n>=J?n:t+n}function ne(e,t,n){let r=e;for(;t-- >J;)r*=r,r%=n;return r}function Vn(e,t){if(e===J)throw new Error("invert: expected non-zero number");if(t<=J)throw new Error("invert: expected positive modulus, got "+t);let n=X(e,t),r=t,s=J,o=K;for(;n!==J;){const c=r/n,a=r%n,u=s-o*c;r=n,n=a,s=o,o=u}if(r!==K)throw new Error("invert: does not exist");return X(s,t)}function Li(e,t){const n=(e.ORDER+K)/Fi,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Fd(e,t){const n=(e.ORDER-zi)/_i,r=e.mul(t,Re),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Re),s),c=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function zd(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-K,n=0;for(;t%Re===J;)t/=Re,n++;let r=Re;const s=kr(e);for(;Ns(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Li;let o=s.pow(r,t);const i=(t+K)/Re;return function(a,u){if(a.is0(u))return u;if(Ns(a,u)!==1)throw new Error("Cannot find square root");let f=n,d=a.mul(a.ONE,o),l=a.pow(u,t),b=a.pow(u,i);for(;!a.eql(l,a.ONE);){if(a.is0(l))return a.ZERO;let p=1,h=a.sqr(l);for(;!a.eql(h,a.ONE);)if(p++,h=a.sqr(h),p===f)throw new Error("Cannot find square root");const x=K<<BigInt(f-p-1),y=a.pow(d,x);f=p,d=a.sqr(y),l=a.mul(l,d),b=a.mul(b,y)}return b}}function _d(e){return e%Fi===Od?Li:e%_i===zi?Fd:zd(e)}const Ld=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ud(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ld.reduce((r,s)=>(r[s]="function",r),t);return rn(e,n)}function Md(e,t,n){if(n<J)throw new Error("invalid exponent, negatives unsupported");if(n===J)return e.ONE;if(n===K)return t;let r=e.ONE,s=t;for(;n>J;)n&K&&(r=e.mul(r,s)),s=e.sqr(s),n>>=K;return r}function Ui(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,c,a)=>e.is0(c)?i:(r[a]=i,e.mul(i,c)),e.ONE),o=e.inv(s);return t.reduceRight((i,c,a)=>e.is0(c)?i:(r[a]=e.mul(i,r[a]),e.mul(i,c)),o),r}function Ns(e,t){const n=(e.ORDER-K)/Re,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Mi(e,t){t!==void 0&&ga(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function kr(e,t,n=!1,r={}){if(e<=J)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Mi(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:nn(s),ZERO:J,ONE:K,create:a=>X(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return J<=a&&a<e},is0:a=>a===J,isOdd:a=>(a&K)===K,neg:a=>X(-a,e),eql:(a,u)=>a===u,sqr:a=>X(a*a,e),add:(a,u)=>X(a+u,e),sub:(a,u)=>X(a-u,e),mul:(a,u)=>X(a*u,e),pow:(a,u)=>Md(c,a,u),div:(a,u)=>X(a*Vn(u,e),e),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>Vn(a,e),sqrt:r.sqrt||(a=>(i||(i=_d(e)),i(c,a))),toBytes:a=>n?Oi(a,o):At(a,o),fromBytes:a=>{if(a.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+a.length);return n?Ri(a):Fe(a)},invertBatch:a=>Ui(c,a),cmov:(a,u,f)=>f?u:a});return Object.freeze(c)}function Gi(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Hi(e){const t=Gi(e);return t+Math.ceil(t/2)}function Gd(e,t,n=!1){const r=e.length,s=Gi(t),o=Hi(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Ri(e):Fe(e),c=X(i,t-K)+K;return n?Oi(c,s):At(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ks=BigInt(0),Zn=BigInt(1);function wn(e,t){const n=t.negate();return e?n:t}function ji(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function xn(e,t){ji(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=nn(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Ts(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let c=Number(e&s),a=e>>i;c>r&&(c-=o,a+=Zn);const u=t*r,f=u+Math.abs(c)-1,d=c===0,l=c<0,b=t%2!==0;return{nextN:a,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:u}}function Hd(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function jd(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const vn=new WeakMap,Di=new WeakMap;function En(e){return Di.get(e)||1}function Dd(e,t){return{constTimeNegate:wn,hasPrecomputes(n){return En(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>ks;)r&Zn&&(s=s.add(o)),o=o.double(),r>>=Zn;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=xn(r,t),i=[];let c=n,a=c;for(let u=0;u<s;u++){a=c,i.push(a);for(let f=1;f<o;f++)a=a.add(c),i.push(a);c=a.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const c=xn(n,t);for(let a=0;a<c.windows;a++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:p}=Ts(s,a,c);s=u,d?i=i.add(wn(b,r[p])):o=o.add(wn(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=xn(n,t);for(let c=0;c<i.windows&&s!==ks;c++){const{nextN:a,offset:u,isZero:f,isNeg:d}=Ts(s,c,i);if(s=a,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=vn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&vn.set(r,s(o))),o},wNAFCached(n,r,s){const o=En(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=En(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){ji(r,t),Di.set(n,r),vn.delete(n)}}}function qd(e,t,n,r){Hd(n,e),jd(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,c=Td(BigInt(s));let a=1;c>12?a=c-3:c>4?a=c-2:c>0&&(a=2);const u=nn(a),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/a)*a;let l=i;for(let b=d;b>=0;b-=a){f.fill(i);for(let h=0;h<o;h++){const x=r[h],y=Number(x>>BigInt(b)&u);f[y]=f[y].add(n[h])}let p=i;for(let h=f.length-1,x=i;h>0;h--)x=x.add(f[h]),p=p.add(x);if(l=l.add(p),b!==0)for(let h=0;h<a;h++)l=l.double()}return l}function qi(e){return Ud(e.Fp),rn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Mi(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cs(e){e.lowS!==void 0&&dt("lowS",e.lowS),e.prehash!==void 0&&dt("prehash",e.prehash)}function Vd(e){const t=qi(e);rn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Zd extends Error{constructor(t=""){super(t)}}const me={Err:Zd,_tlv:{encode:(e,t)=>{const{Err:n}=me;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=$t(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?$t(s.length/2|128):"";return $t(e)+o+s+t},decode(e,t){const{Err:n}=me;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const a=s&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=a,i<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+i);if(c.length!==i)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=me;if(e<ye)throw new t("integer: negative integers are not allowed");let n=$t(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=me;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Fe(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=me,s=re("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,o),{v:u,l:f}=r.decode(2,a);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=me,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function Pn(e,t){return lt(At(e,t))}const ye=BigInt(0),D=BigInt(1);BigInt(2);const Bn=BigInt(3),Wd=BigInt(4);function Yd(e){const t=Vd(e),{Fp:n}=t,r=kr(t.n,t.nBitLength),s=t.toBytes||((g,m,w)=>{const B=m.toAffine();return Ut(Uint8Array.from([4]),n.toBytes(B.x),n.toBytes(B.y))}),o=t.fromBytes||(g=>{const m=g.subarray(1),w=n.fromBytes(m.subarray(0,n.BYTES)),B=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:w,y:B}});function i(g){const{a:m,b:w}=t,B=n.sqr(g),E=n.mul(B,g);return n.add(n.add(E,n.mul(g,m)),w)}function c(g,m){const w=n.sqr(m),B=i(g);return n.eql(w,B)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const a=n.mul(n.pow(t.a,Bn),Wd),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(a,u)))throw new Error("bad curve params: a or b");function f(g){return Nr(g,D,t.n)}function d(g){const{allowedPrivateKeyLengths:m,nByteLength:w,wrapPrivateKey:B,n:E}=t;if(m&&typeof g!="bigint"){if(Bt(g)&&(g=lt(g)),typeof g!="string"||!m.includes(g.length))throw new Error("invalid private key");g=g.padStart(w*2,"0")}let A;try{A=typeof g=="bigint"?g:Fe(re("private key",g,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof g)}return B&&(A=X(A,E)),Ye("private key",A,D,E),A}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const b=$s((g,m)=>{const{px:w,py:B,pz:E}=g;if(n.eql(E,n.ONE))return{x:w,y:B};const A=g.is0();m==null&&(m=A?n.ONE:n.inv(E));const N=n.mul(w,m),O=n.mul(B,m),$=n.mul(E,m);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:N,y:O}}),p=$s(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:m,y:w}=g.toAffine();if(!n.isValid(m)||!n.isValid(w))throw new Error("bad point: x or y not FE");if(!c(m,w))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,w,B){if(m==null||!n.isValid(m))throw new Error("x required");if(w==null||!n.isValid(w)||n.is0(w))throw new Error("y required");if(B==null||!n.isValid(B))throw new Error("z required");this.px=m,this.py=w,this.pz=B,Object.freeze(this)}static fromAffine(m){const{x:w,y:B}=m||{};if(!m||!n.isValid(w)||!n.isValid(B))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const E=A=>n.eql(A,n.ZERO);return E(w)&&E(B)?h.ZERO:new h(w,B,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const w=Ui(n,m.map(B=>B.pz));return m.map((B,E)=>B.toAffine(w[E])).map(h.fromAffine)}static fromHex(m){const w=h.fromAffine(o(re("pointHex",m)));return w.assertValidity(),w}static fromPrivateKey(m){return h.BASE.multiply(d(m))}static msm(m,w){return qd(h,r,m,w)}_setWindowSize(m){v.setWindowSize(this,m)}assertValidity(){p(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:w,py:B,pz:E}=this,{px:A,py:N,pz:O}=m,$=n.eql(n.mul(w,O),n.mul(A,E)),C=n.eql(n.mul(B,O),n.mul(N,E));return $&&C}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:w}=t,B=n.mul(w,Bn),{px:E,py:A,pz:N}=this;let O=n.ZERO,$=n.ZERO,C=n.ZERO,k=n.mul(E,E),G=n.mul(A,A),I=n.mul(N,N),S=n.mul(E,A);return S=n.add(S,S),C=n.mul(E,N),C=n.add(C,C),O=n.mul(m,C),$=n.mul(B,I),$=n.add(O,$),O=n.sub(G,$),$=n.add(G,$),$=n.mul(O,$),O=n.mul(S,O),C=n.mul(B,C),I=n.mul(m,I),S=n.sub(k,I),S=n.mul(m,S),S=n.add(S,C),C=n.add(k,k),k=n.add(C,k),k=n.add(k,I),k=n.mul(k,S),$=n.add($,k),I=n.mul(A,N),I=n.add(I,I),k=n.mul(I,S),O=n.sub(O,k),C=n.mul(I,G),C=n.add(C,C),C=n.add(C,C),new h(O,$,C)}add(m){l(m);const{px:w,py:B,pz:E}=this,{px:A,py:N,pz:O}=m;let $=n.ZERO,C=n.ZERO,k=n.ZERO;const G=t.a,I=n.mul(t.b,Bn);let S=n.mul(w,A),R=n.mul(B,N),P=n.mul(E,O),T=n.add(w,B),F=n.add(A,N);T=n.mul(T,F),F=n.add(S,R),T=n.sub(T,F),F=n.add(w,E);let M=n.add(A,O);return F=n.mul(F,M),M=n.add(S,P),F=n.sub(F,M),M=n.add(B,E),$=n.add(N,O),M=n.mul(M,$),$=n.add(R,P),M=n.sub(M,$),k=n.mul(G,F),$=n.mul(I,P),k=n.add($,k),$=n.sub(R,k),k=n.add(R,k),C=n.mul($,k),R=n.add(S,S),R=n.add(R,S),P=n.mul(G,P),F=n.mul(I,F),R=n.add(R,P),P=n.sub(S,P),P=n.mul(G,P),F=n.add(F,P),S=n.mul(R,F),C=n.add(C,S),S=n.mul(M,F),$=n.mul(T,$),$=n.sub($,S),S=n.mul(T,R),k=n.mul(M,k),k=n.add(k,S),new h($,C,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return v.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:w,n:B}=t;Ye("scalar",m,ye,B);const E=h.ZERO;if(m===ye)return E;if(this.is0()||m===D)return this;if(!w||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:A,k1:N,k2neg:O,k2:$}=w.splitScalar(m),C=E,k=E,G=this;for(;N>ye||$>ye;)N&D&&(C=C.add(G)),$&D&&(k=k.add(G)),G=G.double(),N>>=D,$>>=D;return A&&(C=C.negate()),O&&(k=k.negate()),k=new h(n.mul(k.px,w.beta),k.py,k.pz),C.add(k)}multiply(m){const{endo:w,n:B}=t;Ye("scalar",m,D,B);let E,A;if(w){const{k1neg:N,k1:O,k2neg:$,k2:C}=w.splitScalar(m);let{p:k,f:G}=this.wNAF(O),{p:I,f:S}=this.wNAF(C);k=v.constTimeNegate(N,k),I=v.constTimeNegate($,I),I=new h(n.mul(I.px,w.beta),I.py,I.pz),E=k.add(I),A=G.add(S)}else{const{p:N,f:O}=this.wNAF(m);E=N,A=O}return h.normalizeZ([E,A])[0]}multiplyAndAddUnsafe(m,w,B){const E=h.BASE,A=(O,$)=>$===ye||$===D||!O.equals(E)?O.multiplyUnsafe($):O.multiply($),N=A(this,w).add(A(m,B));return N.is0()?void 0:N}toAffine(m){return b(this,m)}isTorsionFree(){const{h:m,isTorsionFree:w}=t;if(m===D)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:w}=t;return m===D?this:w?w(h,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return dt("isCompressed",m),this.assertValidity(),s(h,this,m)}toHex(m=!0){return dt("isCompressed",m),lt(this.toRawBytes(m))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:x,nBitLength:y}=t,v=Dd(h,x?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function Kd(e){const t=qi(e);return rn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Xd(e){const t=Kd(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,c=2*n.BYTES+1;function a(I){return X(I,r)}function u(I){return Vn(I,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:b}=Yd({...t,toBytes(I,S,R){const P=S.toAffine(),T=n.toBytes(P.x),F=Ut;return dt("isCompressed",R),R?F(Uint8Array.from([S.hasEvenY()?2:3]),T):F(Uint8Array.from([4]),T,n.toBytes(P.y))},fromBytes(I){const S=I.length,R=I[0],P=I.subarray(1);if(S===i&&(R===2||R===3)){const T=Fe(P);if(!Nr(T,D,n.ORDER))throw new Error("Point is not on curve");const F=l(T);let M;try{M=n.sqrt(F)}catch(q){const j=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+j)}const H=(M&D)===D;return(R&1)===1!==H&&(M=n.neg(M)),{x:T,y:M}}else if(S===c&&R===4){const T=n.fromBytes(P.subarray(0,n.BYTES)),F=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:T,y:F}}else{const T=i,F=c;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+F+", got "+S)}}});function p(I){const S=r>>D;return I>S}function h(I){return p(I)?a(-I):I}const x=(I,S,R)=>Fe(I.slice(S,R));class y{constructor(S,R,P){Ye("r",S,D,r),Ye("s",R,D,r),this.r=S,this.s=R,P!=null&&(this.recovery=P),Object.freeze(this)}static fromCompact(S){const R=s;return S=re("compactSignature",S,R*2),new y(x(S,0,R),x(S,R,2*R))}static fromDER(S){const{r:R,s:P}=me.toSig(re("DER",S));return new y(R,P)}assertValidity(){}addRecoveryBit(S){return new y(this.r,this.s,S)}recoverPublicKey(S){const{r:R,s:P,recovery:T}=this,F=E(re("msgHash",S));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");const M=T===2||T===3?R+t.n:R;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=T&1?"03":"02",Z=f.fromHex(H+Pn(M,n.BYTES)),q=u(M),j=a(-F*q),W=a(P*q),Be=f.BASE.multiplyAndAddUnsafe(Z,j,W);if(!Be)throw new Error("point at infinify");return Be.assertValidity(),Be}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Lt(this.toDERHex())}toDERHex(){return me.hexFromSig(this)}toCompactRawBytes(){return Lt(this.toCompactHex())}toCompactHex(){const S=s;return Pn(this.r,S)+Pn(this.s,S)}}const v={isValidPrivateKey(I){try{return d(I),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const I=Hi(t.n);return Gd(t.randomBytes(I),t.n)},precompute(I=8,S=f.BASE){return S._setWindowSize(I),S.multiply(BigInt(3)),S}};function g(I,S=!0){return f.fromPrivateKey(I).toRawBytes(S)}function m(I){if(typeof I=="bigint")return!1;if(I instanceof f)return!0;const R=re("key",I).length,P=n.BYTES,T=P+1,F=2*P+1;if(!(t.allowedPrivateKeyLengths||s===T))return R===T||R===F}function w(I,S,R=!0){if(m(I)===!0)throw new Error("first arg must be private key");if(m(S)===!1)throw new Error("second arg must be public key");return f.fromHex(S).multiply(d(I)).toRawBytes(R)}const B=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const S=Fe(I),R=I.length*8-o;return R>0?S>>BigInt(R):S},E=t.bits2int_modN||function(I){return a(B(I))},A=nn(o);function N(I){return Ye("num < 2^"+o,I,ye,A),At(I,s)}function O(I,S,R=$){if(["recovered","canonical"].some(ke=>ke in R))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:T}=t;let{lowS:F,prehash:M,extraEntropy:H}=R;F==null&&(F=!0),I=re("msgHash",I),Cs(R),M&&(I=re("prehashed msgHash",P(I)));const Z=E(I),q=d(S),j=[N(q),N(Z)];if(H!=null&&H!==!1){const ke=H===!0?T(n.BYTES):H;j.push(re("extraEntropy",ke))}const W=Ut(...j),Be=Z;function on(ke){const He=B(ke);if(!b(He))return;const an=u(He),tt=f.BASE.multiply(He).toAffine(),Te=a(tt.x);if(Te===ye)return;const nt=a(an*a(Be+Te*q));if(nt===ye)return;let rt=(tt.x===Te?0:2)|Number(tt.y&D),je=nt;return F&&p(nt)&&(je=h(nt),rt^=1),new y(Te,je,rt)}return{seed:W,k2sig:on}}const $={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function k(I,S,R=$){const{seed:P,k2sig:T}=O(I,S,R),F=t;return Cd(F.hash.outputLen,F.nByteLength,F.hmac)(P,T)}f.BASE._setWindowSize(8);function G(I,S,R,P=C){var rt;const T=I;S=re("msgHash",S),R=re("publicKey",R);const{lowS:F,prehash:M,format:H}=P;if(Cs(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(H!==void 0&&H!=="compact"&&H!=="der")throw new Error("format must be compact or der");const Z=typeof T=="string"||Bt(T),q=!Z&&!H&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!Z&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let j,W;try{if(q&&(j=new y(T.r,T.s)),Z){try{H!=="compact"&&(j=y.fromDER(T))}catch(je){if(!(je instanceof me.Err))throw je}!j&&H!=="der"&&(j=y.fromCompact(T))}W=f.fromHex(R)}catch{return!1}if(!j||F&&j.hasHighS())return!1;M&&(S=t.hash(S));const{r:Be,s:on}=j,ke=E(S),He=u(on),an=a(ke*He),tt=a(Be*He),Te=(rt=f.BASE.multiplyAndAddUnsafe(W,an,tt))==null?void 0:rt.toAffine();return Te?a(Te.x)===Be:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:w,sign:k,verify:G,ProjectivePoint:f,Signature:y,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jd(e){return{hash:e,hmac:(t,...n)=>ki(e,t,xa(...n)),randomBytes:wa}}function Qd(e,t){const n=r=>Xd({...e,...Jd(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vi=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Rs=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),el=BigInt(0),tl=BigInt(1),Wn=BigInt(2),Os=(e,t)=>(e+t/Wn)/t;function nl(e){const t=Vi,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),a=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=ne(f,n,t)*f%t,l=ne(d,n,t)*f%t,b=ne(l,Wn,t)*u%t,p=ne(b,s,t)*b%t,h=ne(p,o,t)*p%t,x=ne(h,c,t)*h%t,y=ne(x,a,t)*x%t,v=ne(y,c,t)*h%t,g=ne(v,n,t)*f%t,m=ne(g,i,t)*p%t,w=ne(m,r,t)*u%t,B=ne(w,Wn,t);if(!Yn.eql(Yn.sqr(B),e))throw new Error("Cannot find square root");return B}const Yn=kr(Vi,void 0,void 0,{sqrt:nl}),Zi=Qd({a:el,b:BigInt(7),Fp:Yn,n:Rs,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Rs,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-tl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),c=Os(o*e,t),a=Os(-r*e,t);let u=X(e-c*n-a*s,t),f=X(-c*r-a*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Co),rl=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Zi},Symbol.toStringTag,{value:"Module"}));function sl({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Zi.Signature(ve(e),ve(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Se(i)}async function sn(e,t){var c,a,u,f,d,l;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(a=(c=e.chain)==null?void 0:c.contracts)==null?void 0:a.erc6492Verifier)==null?void 0:u.address),multicallAddress:o=t.multicallAddress??((l=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t,i=(()=>{const b=t.signature;return Ke(b)?b:typeof b=="object"&&"r"in b&&"s"in b?sl(b):V(b)})();try{return cd(i)?await ol(e,{...t,multicallAddress:o,signature:i}):await il(e,{...t,verifierAddress:s,signature:i})}catch(b){try{if(pt(Qs(n),await xo({hash:r,signature:i})))return!0}catch{}if(b instanceof Ue)return!1;throw b}}async function ol(e,t){var x;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:c,data:a,signature:u,to:f}=ad(t.signature);if(await Ln(e,{address:n,blockNumber:r,blockTag:s})===jt(["0xef0100",c.address]))return await al(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:L(c.r,{size:32}),s:L(c.s,{size:32}),yParity:c.yParity};if(!await Lu({address:n,authorization:l}))throw new Ue;const p=await z(e,ae,"readContract")({...i?{address:i}:{code:lr},authorizationList:[l],abi:kt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...a?[{allowFailure:!0,target:f??n,callData:a}]:[],{allowFailure:!0,target:n,callData:ce({abi:Us,functionName:"isValidSignature",args:[o,u]})}]]}),h=(x=p[p.length-1])==null?void 0:x.returnData;if(h!=null&&h.startsWith("0x1626ba7e"))return!0;throw new Ue}async function il(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:c,...a}=t,u=await(async()=>!r&&!s||$d(i)?i:Sd({data:s,signature:i,to:r}))(),f=c?{to:c,data:ce({abi:Dr,functionName:"isValidSig",args:[n,o,u]}),...a}:{data:br({abi:Dr,args:[n,o,u],bytecode:Dc}),...a},{data:d}=await z(e,xt,"call")(f).catch(l=>{throw l instanceof go?new Ue:l});if(sa(d??"0x0"))return!0;throw new Ue}async function al(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await z(e,ae,"readContract")({address:n,abi:Us,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(a=>{throw a instanceof wo?new Ue:a})).startsWith("0x1626ba7e"))return!0;throw new Ue}class Ue extends Error{}async function cl(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const c=Ws(n);return sn(e,{address:t,factory:r,factoryData:s,hash:c,signature:o,...i})}async function ul(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:c,types:a,domain:u,...f}=t,d=ha({message:i,primaryType:c,types:a,domain:u});return sn(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Wi(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const c=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let a;return c?(()=>{const d=se(["watchBlockNumber",e.uid,t,n,i]);return $e(d,{onBlockNumber:r,onError:s},l=>vt(async()=>{var b;try{const p=await z(e,Et,"getBlockNumber")({cacheTime:0});if(a!==void 0){if(p===a)return;if(p-a>1&&n)for(let h=a+1n;h<p;h++)l.onBlockNumber(h,a),a=h}(a===void 0||p>a)&&(l.onBlockNumber(p,a),a=p)}catch(p){(b=l.onError)==null||b.call(l,p)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=se(["watchBlockNumber",e.uid,t,n]);return $e(d,{onBlockNumber:r,onError:s},l=>{let b=!0,p=()=>b=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:x}=await h.subscribe({params:["newHeads"],onData(y){var g;if(!b)return;const v=ve((g=y.result)==null?void 0:g.number);l.onBlockNumber(v,a),a=v},onError(y){var v;(v=l.onError)==null||v.call(l,y)}});p=x,b||p()}catch(h){s==null||s(h)}})(),()=>p()})})()}async function fl(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:c=({count:w})=>~~(1<<w)*200,timeout:a=18e4}=t,u=se(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var w;return t.pollingInterval?t.pollingInterval:(w=e.chain)!=null&&w.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,b,p=!1,h,x;const{promise:y,resolve:v,reject:g}=oa(),m=a?setTimeout(()=>{x==null||x(),h==null||h(),g(new $0({hash:s}))},a):void 0;return h=$e(u,{onReplaced:o,resolve:v,reject:g},async w=>{if(b=await z(e,Nt,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(m),w.resolve(b),h==null||h();return}x=z(e,Wi,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(B){const E=N=>{clearTimeout(m),x==null||x(),N(),h==null||h()};let A=B;if(!p)try{if(b){if(r>1&&(!b.blockNumber||A-b.blockNumber+1n<r))return;E(()=>w.resolve(b));return}if(n&&!d&&(p=!0,await qr(async()=>{d=await z(e,Ir,"getTransaction")({hash:s}),d.blockNumber&&(A=d.blockNumber)},{delay:c,retryCount:i}),p=!1),b=await z(e,Nt,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||A-b.blockNumber+1n<r))return;E(()=>w.resolve(b))}catch(N){if(N instanceof mo||N instanceof yo){if(!d){p=!1;return}try{l=d,p=!0;const O=await qr(()=>z(e,le,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:c,retryCount:i,shouldRetry:({error:k})=>k instanceof Bo});p=!1;const $=O.transactions.find(({from:k,nonce:G})=>k===l.from&&G===l.nonce);if(!$||(b=await z(e,Nt,"getTransactionReceipt")({hash:$.hash}),r>1&&(!b.blockNumber||A-b.blockNumber+1n<r)))return;let C="replaced";$.to===l.to&&$.value===l.value&&$.input===l.input?C="repriced":$.from===$.to&&$.value===0n&&(C="cancelled"),E(()=>{var k;(k=w.onReplaced)==null||k.call(w,{reason:C,replacedTransaction:l,transaction:$,transactionReceipt:b}),w.resolve(b)})}catch(O){E(()=>w.reject(O))}}else E(()=>w.reject(N))}}})}),y}function dl(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:c,pollingInterval:a=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const p=se(["watchBlocks",e.uid,t,n,r,f,a]);return $e(p,{onBlock:s,onError:o},h=>vt(async()=>{var x;try{const y=await z(e,le,"getBlock")({blockTag:t,includeTransactions:f});if(y.number!==null&&(d==null?void 0:d.number)!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let v=(d==null?void 0:d.number)+1n;v<y.number;v++){const g=await z(e,le,"getBlock")({blockNumber:v,includeTransactions:f});h.onBlock(g,d),d=g}}((d==null?void 0:d.number)==null||t==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>d.number)&&(h.onBlock(y,d),d=y)}catch(y){(x=h.onError)==null||x.call(h,y)}},{emitOnBegin:r,interval:a}))})():(()=>{let p=!0,h=!0,x=()=>p=!1;return(async()=>{try{r&&z(e,le,"getBlock")({blockTag:t,includeTransactions:f}).then(g=>{p&&h&&(s(g,void 0),h=!1)}).catch(o);const y=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],async onData(g){var w;if(!p)return;const m=await z(e,le,"getBlock")({blockNumber:(w=g.result)==null?void 0:w.number,includeTransactions:f}).catch(()=>{});p&&(s(m,d),h=!1,d=m)},onError(g){o==null||o(g)}});x=v,p||x()}catch(y){o==null||o(y)}})(),()=>x()})()}function ll(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:c,onLogs:a,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),b=d??!1;return l?(()=>{const x=se(["watchEvent",t,n,r,e.uid,s,f,i]);return $e(x,{onLogs:a,onError:c},y=>{let v;i!==void 0&&(v=i-1n);let g,m=!1;const w=vt(async()=>{var B;if(!m){try{g=await z(e,ii,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}m=!0;return}try{let E;if(g)E=await z(e,Jt,"getFilterChanges")({filter:g});else{const A=await z(e,Et,"getBlockNumber")({});v&&v!==A?E=await z(e,fr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:v+1n,toBlock:A}):E=[],v=A}if(E.length===0)return;if(r)y.onLogs(E);else for(const A of E)y.onLogs([A])}catch(E){g&&E instanceof zs&&(m=!1),(B=y.onError)==null||B.call(y,E)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await z(e,Qt,"uninstallFilter")({filter:g}),w()}})})():(()=>{let x=!0,y=()=>x=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),g=o??(s?[s]:void 0);let m=[];g&&(m=[g.flatMap(E=>mt({abi:[E],eventName:E.name,args:n}))],s&&(m=m[0]));const{unsubscribe:w}=await v.subscribe({params:["logs",{address:t,topics:m}],onData(B){var A;if(!x)return;const E=B.result;try{const{eventName:N,args:O}=cr({abi:g??[],data:E.data,topics:E.topics,strict:b}),$=Pe(E,{args:O,eventName:N});a([$])}catch(N){let O,$;if(N instanceof ct||N instanceof Dt){if(d)return;O=N.abiItem.name,$=(A=N.abiItem.inputs)==null?void 0:A.some(k=>!("name"in k&&k.name))}const C=Pe(E,{args:$?[]:{},eventName:O});a([C])}},onError(B){c==null||c(B)}});y=w,x||y()}catch(v){c==null||c(v)}})(),()=>y()})()}function bl(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=se(["watchPendingTransactions",e.uid,t,o]);return $e(u,{onTransactions:r,onError:n},f=>{let d;const l=vt(async()=>{var b;try{if(!d)try{d=await z(e,ai,"createPendingTransactionFilter")({});return}catch(h){throw l(),h}const p=await z(e,Jt,"getFilterChanges")({filter:d});if(p.length===0)return;if(t)f.onTransactions(p);else for(const h of p)f.onTransactions([h])}catch(p){(b=f.onError)==null||b.call(f,p)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await z(e,Qt,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function hl(e){var d,l,b;const{scheme:t,statement:n,...r}=((d=e.match(pl))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:c,requestId:a,...u}=((l=e.match(ml))==null?void 0:l.groups)??{},f=(b=e.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...c?{notBefore:new Date(c)}:{},...a?{requestId:a}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const pl=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ml=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function yl(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!Rt(r.address,{strict:!1})||t&&!pt(r.address,t))return!1}catch{return!1}return!0}async function gl(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:c,time:a=new Date,...u}=t,f=hl(s);if(!f.address||!yl({address:n,domain:r,message:f,nonce:o,scheme:i,time:a}))return!1;const l=Ws(s);return sn(e,{address:f.address,hash:l,signature:c,...u})}function wl(e){return{call:t=>xt(e,t),createAccessList:t=>oi(e,t),createBlockFilter:()=>$u(e),createContractEventFilter:t=>uo(e,t),createEventFilter:t=>ii(e,t),createPendingTransactionFilter:()=>ai(e),estimateContractGas:t=>dc(e,t),estimateGas:t=>ar(e,t),getBalance:t=>Nu(e,t),getBlobBaseFee:()=>ku(e),getBlock:t=>le(e,t),getBlockNumber:t=>Et(e,t),getBlockTransactionCount:t=>Tu(e,t),getBytecode:t=>Ln(e,t),getChainId:()=>Fo(e),getCode:t=>Ln(e,t),getContractEvents:t=>_o(e,t),getEip712Domain:t=>Ru(e,t),getEnsAddress:t=>lu(e,t),getEnsAvatar:t=>Au(e,t),getEnsName:t=>Iu(e,t),getEnsResolver:t=>Su(e,t),getEnsText:t=>si(e,t),getFeeHistory:t=>zu(e,t),estimateFeesPerGas:t=>W0(e,t),getFilterChanges:t=>Jt(e,t),getFilterLogs:t=>_u(e,t),getGasPrice:()=>or(e),getLogs:t=>fr(e,t),getProof:t=>ld(e,t),estimateMaxPriorityFeePerGas:t=>Z0(e,t),getStorageAt:t=>bd(e,t),getTransaction:t=>Ir(e,t),getTransactionConfirmations:t=>hd(e,t),getTransactionCount:t=>No(e,t),getTransactionReceipt:t=>Nt(e,t),multicall:t=>pd(e,t),prepareTransactionRequest:t=>zo(e,t),readContract:t=>ae(e,t),sendRawTransaction:t=>ru(e,t),simulate:t=>Hn(e,t),simulateBlocks:t=>Hn(e,t),simulateCalls:t=>Ad(e,t),simulateContract:t=>Yc(e,t),verifyHash:t=>sn(e,t),verifyMessage:t=>cl(e,t),verifySiweMessage:t=>gl(e,t),verifyTypedData:t=>ul(e,t),uninstallFilter:t=>Qt(e,t),waitForTransactionReceipt:t=>fl(e,t),watchBlocks:t=>dl(e,t),watchBlockNumber:t=>Wi(e,t),watchContractEvent:t=>nu(e,t),watchEvent:t=>ll(e,t),watchPendingTransactions:t=>bl(e,t)}}function kl(e){const{key:t="public",name:n="Public Client"}=e;return iu({...e,key:t,name:n,type:"publicClient"}).extend(wl)}export{ua as AbiConstructorNotFoundError,Zr as AbiConstructorParamsNotFoundError,js as AbiDecodingDataSizeTooSmallError,ht as AbiDecodingZeroDataError,I1 as AbiEncodingArrayLengthMismatchError,S1 as AbiEncodingBytesSizeMismatchError,$1 as AbiEncodingLengthMismatchError,da as AbiErrorInputsNotFoundError,Wr as AbiErrorNotFoundError,qs as AbiErrorSignatureNotFoundError,Vr as AbiEventNotFoundError,ca as AbiEventSignatureEmptyTopicsError,Vs as AbiEventSignatureNotFoundError,Ct as AbiFunctionNotFoundError,Zs as AbiFunctionOutputsNotFoundError,fa as AbiFunctionSignatureNotFoundError,P0 as AccountStateConflictError,Rl as AtomicReadyWalletRejectedUpgradeError,Ol as AtomicityNotSupportedError,_ as BaseError,D0 as BaseFeeScalarError,Bo as BlockNotFoundError,Fl as BundleTooLargeError,N1 as BytesSizeMismatchError,go as CallExecutionError,zl as ChainDisconnectedError,zn as ChainDoesNotSupportContract,Za as CircularReferenceError,Xo as ClientChainNotConfiguredError,wo as ContractFunctionExecutionError,On as ContractFunctionRevertedError,N0 as ContractFunctionZeroDataError,k0 as CounterfactualDeploymentFailedError,ct as DecodeLogDataMismatch,Dt as DecodeLogTopicsMismatch,_l as DuplicateIdError,sr as Eip1559FeesNotSupportedError,st as EnsAvatarInvalidNftUriError,hu as EnsAvatarUnsupportedNamespaceError,mr as EnsAvatarUriResolutionError,L0 as EstimateGasExecutionError,It as ExecutionRevertedError,An as FeeCapTooHighError,Tr as FeeCapTooLowError,I0 as FeeConflictError,c0 as FilterTypeNotSupportedError,jr as HttpRequestError,Fr as InsufficientFundsError,Ll as IntegerOutOfRangeError,Qi as InternalRpcError,zr as IntrinsicGasTooHighError,_r as IntrinsicGasTooLowError,ia as InvalidAbiDecodingTypeError,k1 as InvalidAbiEncodingTypeError,za as InvalidAbiItemError,Ua as InvalidAbiParametersError,Da as InvalidAbiTypeParameterError,Nn as InvalidAddressError,la as InvalidArrayError,Yi as InvalidBytesBooleanError,T1 as InvalidDefinitionTypeError,C1 as InvalidDomainError,ja as InvalidFunctionModifierError,Ul as InvalidHexBooleanError,zs as InvalidInputRpcError,Ha as InvalidModifierError,Ma as InvalidParameterError,Ml as InvalidParamsRpcError,Wa as InvalidParenthesisError,R1 as InvalidPrimaryTypeError,Gl as InvalidRequestRpcError,S0 as InvalidSerializableTransactionError,Qe as InvalidSignatureError,Va as InvalidStructSignatureError,O1 as InvalidStructTypeError,Hl as JsonRpcVersionUnsupportedError,jl as LimitExceededRpcError,q0 as MaxFeePerGasTooLowError,Dl as MethodNotFoundRpcError,ql as MethodNotSupportedRpcError,Or as NonceMaxValueError,Cr as NonceTooHighError,Rr as NonceTooLowError,Vl as ParseRpcError,Zl as ProviderDisconnectedError,Wl as ProviderRpcError,Yt as RawContractError,Yl as ResourceNotFoundRpcError,Kl as ResourceUnavailableRpcError,Xl as RpcError,ea as RpcRequestError,Jl as SizeExceedsPaddingSizeError,Ql as SizeOverflowError,e1 as SliceOffsetOutOfBoundsError,Ga as SolidityProtectedKeywordError,B0 as StateAssignmentConflictError,t1 as SwitchChainError,n1 as TimeoutError,In as TipAboveFeeCapError,mo as TransactionNotFoundError,yo as TransactionReceiptNotFoundError,r1 as TransactionRejectedRpcError,Lr as TransactionTypeNotSupportedError,s1 as UnauthorizedProviderError,o1 as UnknownBundleIdError,Ht as UnknownNodeError,i1 as UnknownRpcError,qa as UnknownSignatureError,_a as UnknownTypeError,a1 as UnsupportedChainIdError,c1 as UnsupportedNonOptionalCapabilityError,u1 as UnsupportedProviderMethodError,f1 as UrlRequiredError,d1 as UserRejectedRequestError,$0 as WaitForTransactionReceiptTimeoutError,gt as assertRequest,ko as blobsToCommitments,To as blobsToProofs,X1 as boolToBytes,l1 as boolToHex,b0 as bytesToBigInt,h0 as bytesToBool,V as bytesToHex,ge as bytesToNumber,p0 as bytesToString,ui as ccipFetch,ui as ccipRequest,Ys as checksumAddress,rc as commitmentToVersionedHash,sc as commitmentsToVersionedHashes,Jn as concat,F1 as concatBytes,jt as concatHex,iu as createClient,kl as createPublicClient,b1 as createTransport,yt as decodeAbiParameters,bo as decodeErrorResult,cr as decodeEventLog,au as decodeFunctionData,Ge as decodeFunctionResult,h1 as defineChain,Ko as deploylessCallViaBytecodeBytecode,jc as deploylessCallViaFactoryBytecode,bt as encodeAbiParameters,br as encodeDeployData,bs as encodeErrorResult,mt as encodeEventTopics,ce as encodeFunctionData,cu as encodeFunctionResult,p1 as erc20Abi,Dr as erc6492SignatureValidatorAbi,Dc as erc6492SignatureValidatorByteCode,Pd as ethAddress,Xi as etherUnits,m1 as fallback,So as formatBlock,po as formatEther,Oe as formatGwei,Pe as formatLog,Io as formatTransaction,ou as formatTransactionReceipt,Kt as formatTransactionRequest,Ki as formatUnits,Je as getAbiItem,Qs as getAddress,et as getChainContractAddress,Xe as getContractError,Kn as getEventSelector,z1 as getEventSignature,Xn as getFunctionSelector,_1 as getFunctionSignature,uc as getTransactionType,L1 as getTypesForEIP712Domain,y1 as gweiUnits,U1 as hashDomain,Ws as hashMessage,M1 as hashStruct,ha as hashTypedData,ve as hexToBigInt,sa as hexToBool,Se as hexToBytes,xe as hexToNumber,g1 as http,Rt as isAddress,pt as isAddressEqual,Ke as isHex,ze as keccak256,du as labelhash,j0 as maxUint256,kt as multicall3Abi,_n as namehash,J1 as numberToBytes,L as numberToHex,ju as offchainLookup,ci as offchainLookupAbiItem,Hu as offchainLookupSignature,w1 as pad,x1 as padBytes,v1 as padHex,co as parseAbi,Kr as parseAbiItem,Xr as parseAbiParameters,ur as parseEventLogs,G1 as prepareEncodeFunctionData,H1 as presignMessagePrefix,wl as publicActions,xo as recoverAddress,R0 as recoverPublicKey,M0 as rpcTransactionType,sl as serializeSignature,nc as sha256,E1 as shouldThrow,sl as signatureToHex,Ce as size,Tt as slice,aa as sliceBytes,j1 as sliceHex,it as stringToBytes,P1 as stringToHex,se as stringify,cc as toBlobSidecars,ac as toBlobs,qt as toBytes,D1 as toEventHash,Kn as toEventSelector,q1 as toEventSignature,V1 as toFunctionHash,Xn as toFunctionSelector,Z1 as toFunctionSignature,at as toHex,W1 as toPrefixedMessage,O0 as toRlp,Ao as transactionType,Gt as trim,Dr as universalSignatureValidatorAbi,Dc as universalSignatureValidatorByteCode,Y1 as validateTypedData,eu as withCache,qr as withRetry,B1 as withTimeout,de as zeroAddress};
